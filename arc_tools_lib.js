module.exports=function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports={meta:r(4),commander:r(10),arccore:r(1),fileDirEnumSync:r(5),jsrcFileLoaderSync:r(7),stringToFileSync:r(8),filterdagSpecLoader:r(6),createToolBanner:r(9)}},function(e,t,r){e.exports=function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){(function(){var t,i;t=r(19),i=e.exports={__meta:{name:"arccore",version:t.version,codename:t.codename,author:t.author,buildID:t.buildID},__bundle:{murmurhash_js:r(9),nodeuuid:r(18)},util:r(48),graph:r(15),types:r(5),identifier:r(1),filter:r(2),filterDAG:r(29)}}).call(this)},function(e,t,r){(function(){var t;t=e.exports={},t.hash=r(45),t.irut=r(46)}).call(this)},function(e,t,r){(function(){var t,i;i=r(26),t=e.exports={create:i}}).call(this)},function(e,t){(function(){e.exports={inputName:"FilterDAG Factory Request Object",inputDescription:"Developer-specified request object that models the system to be hosted by the generated FilterDAG object.",inputFilterSpec:{____label:"FilterDAG Factory request object.",____description:"Request object containing a declarative model of a system to host in the generated FilterDAG object.",____types:"jsObject",dagID:{____label:"ID",____description:"Globally-unique, version-independent, identifier string (e.g. IRUT) to assign the generated FilterDAG object.",____accept:"jsString"},dagName:{____label:"Name",____description:"Short-form name to assign the generated FilterDAG object.",____accept:"jsString"},dagDescription:{____label:"Description",____description:"Longer-form description to assign the generated FilterDAG object.",____accept:"jsString"},dagSpecification:{____label:"FilterDAG Model",____description:"Filter DAG system descriptor object passed to the FilterDAG factory.",____types:"jsObject",constraints:{____label:"FilterDAG System Constraints",____description:"Filter DAG system data type and processing function declaration manifest.",____types:"jsObject",types:{____label:"System Data Types",____description:"An array specifying the identity and semantics of data types to be used in the generated FilterDAG object.",____types:"jsArray",____defaultValue:[],typeDescriptor:{____label:"Data Type Descriptor",____description:"Describes the model of a single data type in the generated FilterDAG object.",____types:"jsObject",name:{____label:"Type Name",____description:"Short-form unique name to assign to this data type (for machines).",____accept:"jsString"},label:{____label:"Type Label",____description:"Longer-form desciptive moniker for this type (for humans).",____accept:["jsNull","jsString"],____defaultValue:null},description:{____label:"Type Description",____description:"Longer-form desciption of this type (for humans).",____accept:["jsNull","jsString"],____defaultValue:null},filterSpec:{____label:"Type Specification",____description:"JBUS Filter-format Filter Spec object.",____accept:"jsObject",____defaultValue:{____opaque:!0}}}},functions:{____label:"System Functions",____description:"An array of FilterDAG function descriptor objects.",____types:"jsArray",____defaultValue:[],functionDescriptor:{____label:"Function Descriptor",____description:"Describes the model of a single request function to be used in the generated FilterDAG object.",____types:"jsObject",name:{____label:"Function Name",____description:"Short-form unique name to assign to this function (for machines).",____accept:"jsString"},label:{____label:"Function Label",____description:"Longer-form desciptive moniker for this function (for humans).",____accept:["jsNull","jsString"],____defaultValue:null},description:{____label:"Function Description",____description:"Longer-form desciption of this function (for humans).",____accept:["jsNull","jsString"],____defaultValue:null},filterBinding:{____label:"Filter Binding",____description:"Filter binding descriptor object.",____types:"jsObject",id:{____label:"Filter ID",____description:"The IRUT operation ID of the Filter that implements this function.",____accept:"jsString"},name:{____label:"Filter Name",____description:"The operation Name of the Filter that implements this function (informational only).",____accept:["jsNull","jsString"],____defaultValue:null}}}}},model:{____label:"FilterDAG System Model",____description:"FilterDAG system model descriptor object.",____types:"jsObject",inputs:{____label:"System Inputs Model",____description:"An array of FilterDAG system input descriptor objects.",____types:"jsArray",____defaultValue:[],inputDescriptor:{____label:"System Input Descriptor",____description:"Describes an input to the FilterDAG reactive system.",____types:"jsObject",name:{____label:"Input Name",____description:"Short-form name of the input.",____types:"jsString"},label:{____label:"Input Label",____description:"Short-form label of the input.",____types:["jsNull","jsString"],____defaultValue:null},description:{____label:"Input Description",____description:"Longer-form description of the input.",____types:["jsNull","jsString"],____defaultValue:null},typeConstraint:{____label:"Input Type Constraint Name",____description:"The input's associated data type name declared in the DAG specification's constraint object.",____types:"jsString"}}},outputs:{____label:"System Outputs Model",____description:"An array of FilterDAG system output descriptor objects.",____types:"jsArray",____defaultValue:[],outputDescriptor:{____label:"System Input Descriptor",____description:"Describes an input to the FilterDAG reactive system.",____types:"jsObject",name:{____label:"Output Name",____description:"Short-form name of the output.",____types:"jsString"},label:{____label:"Output Label",____description:"Short-form label of the output.",____types:["jsNull","jsString"],____defaultValue:null},description:{____label:"Output Description",____description:"Longer-form description of the output.",____types:["jsNull","jsString"],____defaultValue:null},typeConstraint:{____label:"Output Type Constraint Name",____description:"The output's associated data type name declared in the DAG specification's constraint object.",____types:"jsString"}}},transformations:{____label:"System Transformations Model",____description:"An array of FilterDAG system transformation descriptor objects.",____types:"jsArray",____defaultValue:[],transformDescriptor:{____label:"Transform Descriptor",____description:"Describes a single data transformation within the generated FilterDAG object.",____types:"jsObject",name:{____label:"Transformation Name",____description:"Short-form name of this transformation.",____accept:"jsString"},label:{____label:"Transformation Label",____description:"Short-form label of this transformation for documentation.",____accept:["jsNull","jsString"],____defaultValue:null},description:{____label:"Transformation Description",____description:"Longer-form description of this transformation for documentation.",____accept:["jsNull","jsString"],____defaultValue:null},inputModels:{____label:"System Input Models",____description:"An array of system input model descriptors.",____types:"jsArray",inputModelDescriptor:{____label:"System Input Model Descriptor",____description:"System input model descriptor object.",____types:"jsObject",inputModel:{____label:"System Output Model",____description:"The name of the FilterDAG input or output model to bind to the transformation's output.",____accept:"jsString"},requestMapping:{____label:"Function Request Mapping",____description:"A dot delimited string starting w/`request` that indicates the mapping from inputModel to function request object.",____accept:"jsString",____defaultValue:"request"}}},outputModel:{____label:"System Output Model",____description:"The name of the FilterDAG input or output model to bind to the transformation's output.",____accept:"jsString"},functionConstraint:{____label:"System Function Constraint",____description:"The name of the FilterDAG constraint function that implements the desired transformation.",____accept:"jsString"}}}},context:{____label:"FilterDAG System Context",____description:"Developer-specified common context object (opaque to the FilterDAG factory) made available to all JBUS Filter objects bound into the generated FilterDAG object.",____accept:"jsObject",____defaultValue:{}}}}}}).call(this)},function(e,t){var r=function(e){return Object.prototype.toString.call(e)},i=function(e,t,i){var n=r(e[t]);return"[object Undefined]"===n?(n=r(i),"[object Function]"!==n?e[t]=i:e[t]=i(),!0):!1};e.exports={JSType:r,setPropertyValueIfUndefined:i}},function(e,t,r){(function(){var t;t={},t.common={},t.common.types=e.exports={},t.common.types.codes=r(7),t.common.types.convert=r(16),t.common.types.check=r(47)}).call(this)},function(e,t){e.exports={white:0,gray:1,black:2}},function(e,t){(function(){"use strict";var t;t={__undefined:0,__null:1,__boolean:2,__string:3,__number:4,__object:5,__array:6,__function:7,__GUARD:8},Object.freeze(t),e.exports=t}).call(this)},function(e,t){(function(){e.exports={____label:"FilterDAG Transform Model Descriptor",____description:"FilterDAG transform model processor response object.",____types:"jsObject",digraph:{____label:"Transform Digraph",____description:"Reference to a Encapsule/jsgraph DirectedGraph model of the FilterDAG transform model.",____accept:"jsObject"},dependencies:{____label:"Tranform Digraph Dependencies",____description:"Models and constraints that the transform digraph declares as dependencies.",____types:"jsObject",models:{____types:"jsObject",inputs:{____types:"jsArray",element:{____types:"jsString"}},outputs:{____types:"jsArray",element:{____types:"jsString"}},transforms:{____types:"jsArray",element:{____types:"jsString"}}},constraints:{____types:"jsObject",functions:{____types:"jsArray",element:{____types:"jsString"}}}}}}).call(this)},function(e,t,r){var i=r(50),n=r(49);e.exports=i,e.exports.murmur3=i,e.exports.murmur2=n},function(e,t,r){var i=r(4),n=r(25),o=r(24),s=r(23);(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},r=function(){function e(e){if(this.getGraphName=t(this.getGraphName,this),this.setGraphName=t(this.setGraphName,this),this.getGraphDescription=t(this.getGraphDescription,this),this.setGraphDescription=t(this.setGraphDescription,this),this.isVertex=t(this.isVertex,this),this.addVertex=t(this.addVertex,this),this.removeVertex=t(this.removeVertex,this),this.getVertexProperty=t(this.getVertexProperty,this),this.setVertexProperty=t(this.setVertexProperty,this),this.hasVertexProperty=t(this.hasVertexProperty,this),this.clearVertexProperty=t(this.clearVertexProperty,this),this.inDegree=t(this.inDegree,this),this.inEdges=t(this.inEdges,this),this.outDegree=t(this.outDegree,this),this.outEdges=t(this.outEdges,this),this.isEdge=t(this.isEdge,this),this.addEdge=t(this.addEdge,this),this.removeEdge=t(this.removeEdge,this),this.getEdgeProperty=t(this.getEdgeProperty,this),this.setEdgeProperty=t(this.setEdgeProperty,this),this.hasEdgeProperty=t(this.hasEdgeProperty,this),this.clearEdgeProperty=t(this.clearEdgeProperty,this),this.verticesCount=t(this.verticesCount,this),this.getVertices=t(this.getVertices,this),this.edgesCount=t(this.edgesCount,this),this.getEdges=t(this.getEdges,this),this.rootVerticesCount=t(this.rootVerticesCount,this),this.getRootVertices=t(this.getRootVertices,this),this.leafVerticesCount=t(this.leafVerticesCount,this),this.getLeafVertices=t(this.getLeafVertices,this),this.toObject=t(this.toObject,this),this.toJSON=t(this.toJSON,this),this.fromObject=t(this.fromObject,this),this.fromJSON=t(this.fromJSON,this),this._private={name:"",description:"",vertexMap:{},rootMap:{},leafMap:{},edgeCount:0,constructionError:null},null!==e&&e){var r=o(this,e);r.error&&(this._private.constructionError="DirectedGraph constructor failed: "+r.error)}}return e.prototype.getGraphName=function(){return this._private.name},e.prototype.setGraphName=function(e){var t={error:null,result:null};return"[object String]"===i.JSType(e)?(this._private.name=e,t.result=!0):t.error="Invalid graph name specified. Expected '[object String]'.",t},e.prototype.getGraphDescription=function(){return this._private.description},e.prototype.setGraphDescription=function(e){var t={error:null,result:null};return"[object String]"===i.JSType(e)?(this._private.description=e,t.result=!0):t.error="Invalid graph name specified. Expected '[object String]'.",t},e.prototype.isVertex=function(e){var t=n.verifyVertexReadRequest(e);if(t.error)return!1;var r=this._private.vertexMap[e];return null!==r&&r&&!0||!1},e.prototype.addVertex=function(e){for(var t={error:null,result:null},r=[],o=!1;!o;){o=!0;var s=n.verifyVertexWriteRequest(e);if(s.error){r.unshift(s.error);break}var a=this._private.vertexMap[e.u];null!==a&&a||(a=this._private.vertexMap[e.u]={},a.edges={},a.edges["in"]={},a.edges.out={},this._private.rootMap[e.u]={},this._private.leafMap[e.u]={}),"[object Undefined]"!==i.JSType(e.p)&&(a.properties=e.p),t.result=e.u}return r.length&&(r.unshift("DirectedGraph.addVertex failed:"),t.error=r.join(" ")),t},e.prototype.removeVertex=function(e){var t=n.verifyVertexReadRequest(e);if(t.error)return!1;var r=this._private.vertexMap[e];if(null===r||!r)return!1;var i;for(i in r.edges.out)this.removeEdge({u:e,v:i});for(i in r.edges["in"])this.removeEdge({u:i,v:e});return delete this._private.vertexMap[e],delete this._private.rootMap[e],delete this._private.leafMap[e],!0},e.prototype.getVertexProperty=function(e){return this.isVertex(e)?this._private.vertexMap[e].properties:void 0},e.prototype.setVertexProperty=function(e){return this.addVertex(e)},e.prototype.hasVertexProperty=function(e){return this.isVertex(e)?"[object Undefined]"===i.JSType(this._private.vertexMap[e].properties)?!1:!0:!1},e.prototype.clearVertexProperty=function(e){return this.isVertex(e)?(delete this._private.vertexMap[e].properties,!0):!1},e.prototype.inDegree=function(e){return this.isVertex(e)?Object.keys(this._private.vertexMap[e].edges["in"]).length:-1},e.prototype.inEdges=function(e){var t=[];if(this.isVertex(e))for(var r in this._private.vertexMap[e].edges["in"])t.push({u:r,v:e});return t},e.prototype.outDegree=function(e){return this.isVertex(e)?Object.keys(this._private.vertexMap[e].edges.out).length:-1},e.prototype.outEdges=function(e){var t=[];if(this.isVertex(e))for(var r in this._private.vertexMap[e].edges.out)t.push({u:e,v:r});return t},e.prototype.isEdge=function(e){for(var t=!1,r=!1;!r&&(r=!0,!n.verifyEdgeReadRequest(e).error);){var i=this._private.vertexMap[e.u],o=this._private.vertexMap[e.v];if(null===i||!i||null===o||!o)break;var s=i.edges.out[e.v];t=null!==s&&s&&!0||!1}return t},e.prototype.addEdge=function(e){for(var t={error:null,result:null},r=[],o=!1;!o;){o=!0;var s=n.verifyEdgeWriteRequest(e);if(s.error){r.unshift(s.error);break}if(s=this.addVertex({u:e.e.u}),s.error){r.unshift(s.error);break}if(s=this.addVertex({u:e.e.v}),s.error){r.unshift(s.error);break}var a=this._private.vertexMap[e.e.u].edges.out[e.e.v];null!==a&&a||(a=this._private.vertexMap[e.e.u].edges.out[e.e.v]={},delete this._private.leafMap[e.e.u]);var u=this._private.vertexMap[e.e.v].edges["in"][e.e.u];null!==u&&u||(u=this._private.vertexMap[e.e.v].edges["in"][e.e.u]={},this._private.edgeCount++,delete this._private.rootMap[e.e.v]),"[object Undefined]"!==i.JSType(e.p)&&(a.properties=e.p),t.result=e.e}return r.length&&(r.unshift("DirectedGraph.addEdge failed:"),t.error=r.join(" ")),t},e.prototype.removeEdge=function(e){for(var t={error:null,result:null},r=[],i=!1;!i;){i=!0;var o=n.verifyEdgeReadRequest(e);if(o.error){r.unshift(o.error);break}var s=this._private.vertexMap[e.u],a=this._private.vertexMap[e.v];if(null===s||!s||null===a||!a){t.result=!1;break}var u=s.edges.out,l=u[e.v];if(null===l||!l){t.result=!1;break}delete u[e.v],Object.keys(u).length||(this._private.leafMap[e.u]={});var c=a.edges["in"];delete c[e.u],Object.keys(c).length||(this._private.rootMap[e.v]={}),this._private.edgeCount&&this._private.edgeCount--,t.result=!0}return r.length&&(r.unshift("DirectedGraph.removeEdge failed:"),t.error=r.join(" ")),t},e.prototype.getEdgeProperty=function(e){for(var t=void 0,r=!1;!r&&(r=!0,!n.verifyEdgeReadRequest(e).error);){var i=this._private.vertexMap[e.u],o=this._private.vertexMap[e.v];if(null===i||!i||null===o||!o)break;t=i.edges.out[e.v].properties}return t},e.prototype.setEdgeProperty=function(e){return this.addEdge(e)},e.prototype.hasEdgeProperty=function(e){return this.isEdge(e)?"[object Undefined]"===i.JSType(this._private.vertexMap[e.u].edges.out[e.v].properties)?!1:!0:!1},e.prototype.clearEdgeProperty=function(e){return this.isEdge(e)?(delete this._private.vertexMap[e.u].edges.out[e.v].properties,!0):!1},e.prototype.verticesCount=function(){return Object.keys(this._private.vertexMap).length},e.prototype.getVertices=function(){var e=[];for(var t in this._private.vertexMap)e.push(t);return e},e.prototype.edgesCount=function(){return this._private.edgeCount},e.prototype.getEdges=function(){var e=[],t=this.getVertices(),r=function(t){t.forEach(function(t){e.push(t)})},i=this;return t.forEach(function(e){r(i.outEdges(e))}),e},e.prototype.rootVerticesCount=function(){return Object.keys(this._private.rootMap).length},e.prototype.getRootVertices=function(){var e=[];for(var t in this._private.rootMap)e.push(t);return e},e.prototype.leafVerticesCount=function(){return Object.keys(this._private.leafMap).length},e.prototype.getLeafVertices=function(){var e=[];for(var t in this._private.leafMap)e.push(t);return e},e.prototype.toObject=function(){return s.exportObject(this)},e.prototype.toJSON=function(e,t){return s.exportJSON(this,e,t)},e.prototype.fromObject=function(e){return o(this,e)},e.prototype.fromJSON=function(e){return o(this,e)},e}(),a=function(e){var t={error:null,result:null},i=new r(e);return i._private.constructionError?t.error=i._private.constructionError:t.result=i,t};e.exports={createDirectedGraph:a,DirectedGraph:r}}).call(this)},function(e,t,r){var i=r(4),n=r(6);e.exports=function(e){for(var t={error:null,result:null},r=[],o={searchStatus:"pending",colorMap:{},undiscoveredMap:{}},s=function(e){o.colorMap[e]=n.white,o.undiscoveredMap[e]=!0},a=!1;!a;){a=!0;var u="[object Object]",l=i.JSType(e);if(l!==u){r.unshift("Expected request to be of type '"+u+"' but found '"+l+"'.");break}if(l=i.JSType(e.digraph),l!==u){r.unshift("Expected request.digraph to be of type '"+u+"' but found '"+l+"'.");break}e.digraph.getVertices().forEach(s),t.result=o}return r.length&&(r.unshift("jsgraph.directed.createTraverseContext failed:"),t.error=r.join(" ")),t}},function(e,t,r){var i=r(4),n=r(11);e.exports=function(e){for(var t={error:null,result:null},r=[],o=null,s=!1,a=function(){var e=n({digraph:o.digraph}),t=null;return e.error?r.unshift(e.error):t=e.result,t},u=function(){return o.digraph.getRootVertices()};!s;){s=!0;var l=i.JSType(e);if("[object Object]"!==l){r.unshift("Missing request object ~. Found type '"+l+"'.");break}if(o={},l=i.JSType(e.digraph),"[object Object]"!==l){r.unshift("Missing required DirectedGraph reference ~.digraph. Found type '"+l+"'.");break}if(o.digraph=e.digraph,l=i.JSType(e.visitor),"[object Object]"!==l){r.unshift("Missing required visitor object reference ~.visitor. Found type '"+l+"'.");break}if(o.visitor=e.visitor,l=i.JSType(e.options),"[object Undefined]"!==l&&"[object Object]"!==l){r.unshift("Options object ~.options is the wrong type. Found type '"+l+"'.");break}if(o.options={},"[object Object]"===l){switch(l=i.JSType(e.options.startVector)){case"[object Undefined]":break;case"[object String]":o.options.startVector=[e.options.startVector];break;case"[object Array]":o.options.startVector=e.options.startVector;break;default:r.unshift("Options object property ~.options.startVector is the wrong type. Expected either '[object String]', '[object Array]', or '[object Undefined]'. Found type '"+l+"'.")}if(r.length)break;if(l=i.JSType(e.options.allowEmptyStartVector),"[object Undefined]"!==l&&"[object Boolean]"!==l){r.unshift("Options object property ~.options.allowEmptyStartVector is the wrong type. Expected either '[object Boolean]' or '[object Undefined]. Found type '"+l+"'.");break}if("[object Boolean]"==l&&(o.options.allowEmptyStartVector=e.options.allowEmptyStartVector),l=i.JSType(e.options.signalStart),"[object Undefined]"!==l&&"[object Boolean]"!==l){r.unshift("Options object property ~.options.signalStart is the wrong type. Expected either '[object Boolean]' or '[object Undefined]'. Found type '"+l+"'.");break}if("[object Boolean]"===l&&(o.options.signalStart=e.options.signalStart),l=i.JSType(e.options.traverseContext),"[object Undefined]"!==l&&"[object Object]"!==l){r.unshift("Options object property ~.options.traverseContext is the wrong type. Expected either '[object Object]' or '[object Undefined']. Found type '"+l+"'.");break}"[object Object]"===l&&(o.options.traverseContext=e.options.traverseContext)}if(i.setPropertyValueIfUndefined(o.options,"startVector",u),i.setPropertyValueIfUndefined(o.options,"allowEmptyStartVector",!1),i.setPropertyValueIfUndefined(o.options,"signalStart",!0),i.setPropertyValueIfUndefined(o.options,"traverseContext",a),!o.options.startVector.length&&!o.options.allowEmptyStartVector){r.unshift("Traversal aborted because we don't know which vertex to start on. Specify a graph that has at least one root vertex, explicity specify the start vertex (or vertices) via `request.options.startVector` array, or suppress this error by setting `request.options.allowEmptyStartVector` to Boolean true.");break}t.result=o}return r.length?t.error=r.join(" "):t.result=o,t}},function(e,t,r){var i=r(4);e.exports=function(e){for(var t={error:null,result:null},r=[],n=!1;!n;){n=!0;var o=e.visitor[e.method],s=i.JSType(o);if("[object Function]"!==s){if("[object Undefined]"!==s){r.unshift(e.algorithm+" visitor interface method '"+e.method+"' is type '"+s+"' instead of '[object Function]' as expected.");break}t.result=!0;break}var a=o(e.request);if(s=i.JSType(a),"[object Boolean]"!==s){r.unshift(e.algorithm+" visitor interface error in callback function '"+e.method+"'. Function returned type '"+s+"' instead of expected '[object Boolean]'.");break}t.result=a}return r.length&&(t.error=r.join(" ")),t}},function(e,t){(function(){e.exports={____types:"jsObject",ioCache:{____types:"jsObject",inputsMap:{____accept:"jsObject"},outputsMap:{____accept:"jsObject"},typeConstraints:{____types:"jsArray",element:{____types:"jsString"}}},ioCacheReport:{____types:"jsObject",bad:{____types:"jsObject",missingInputs:{____types:"jsArray",element:{____types:"jsString"}},mislabeledInputs:{____types:"jsArray",element:{____types:"jsString"}},missingOutputs:{____types:"jsArray",element:{____types:"jsString"}},mislabeledOutputs:{____types:"jsArray",element:{____types:"jsString"}},superfluousInputs:{____types:"jsArray",element:{____types:"jsString"}},superfluousOutputs:{____types:"jsArray",element:{____types:"jsString"}}},good:{____types:"jsObject",inputs:{____types:"jsArray",element:{____types:"jsString"}},outputs:{____types:"jsArray",element:{____types:"jsString"}}}}}}).call(this)},function(e,t,r){e.exports={directed:{create:r(10).createDirectedGraph,transpose:r(22),breadthFirstTraverse:r(20),depthFirstTraverse:r(21),colors:r(6),createTraversalContext:r(11)}}},function(e,t,r){(function(){var t,i,n;i=r(7),n=r(17),t=function(e){var t,r,o,s,a,u,l,c,p,f,d;for(t=[],c={error:null,result:null},o=!1;!o;){if(o=!0,null==e||!e){t.unshift("Missing request object.");break}if(l=Object.prototype.toString.call(e),"[object Object]"!==l){t.unshift("Invalid request value type. Expected reference to '[object Object]'.");break}if(u={},null==e.from||!e.from){t.unshift("Invalid request missing 'from' property.");break}if(l=Object.prototype.toString.call(e.from),"[object String]"!==l){t.unshift("Invalid request 'from' value type. Expected reference to '[object String]'.");break}if(u.from=e.from,null==e.to||!e.to){t.unshift("Invalid request missing 'to' property.");break}if(l=Object.prototype.toString.call(e.to),"[object String]"!==l){t.unshift("Invalid request 'to' value type. Expected reference to '[object String]'.");break}switch(u.to=e.to,d=Object.prototype.toString.call(e.value),r=!0,p=void 0,u.from){case"jsReference":p={to:u.to,from:"jsTypeString",value:Object.prototype.toString.call(e.value)},r=!1;break;case"jsCode":if("[object Number]"!==d){t.unshift("Invalid request 'value' type. Expected reference to '[object Number]'.");break}(e.value<0||e.value>=i.__GUARD)&&t.unshift("Invalid request 'value' '"+e.value+"' is not a valid 'jsCode' value.");break;case"jsMoniker":"[object String]"!==d&&t.unshift("Invalid request 'value' type. Expected reference to '[object String]'."),r=!1;break;default:t.unshift("["+n.dimensions+"]."),t.unshift("Invalid request 'from' value '"+u.from+"' is not a valid dimension string. Valid dimensions:")}if(t.length)break;if(null!=p&&p?u=p:u.value=e.value,f=n[r&&u.to||u.from],null==f||!f){t.unshift("["+n.dimensions+"]."),t.unshift("No conversion operator from '"+u.from+"' to '"+u.to+"' available. Valid dimensions:");break}if(r)a=f[u.value];else{if(a=f.indexOf(u.value),-1===a){t.unshift("["+n.dimensions+"]."),t.unshift("Invalid request 'value' specifies unknown "+u.to+" '"+u.value+"'. Valid dimensions:");break}if("jsCode"!==u.to){if(f=n[u.to],null==f||!f){t.unshift("Valid dimensions: ["+n.dimensions+"]."),t.unshift("No conversion to '"+u.to+"' available.");break}if(s=a,a=f[s],null==a||!a){t.unshift("No coversion from dimension '"+u.from+"' to '"+u.to+"' for value '"+u.value+"'.");break}}}c.result=a}return t.length&&(t.unshift("jbus type conversion failed:"),c.error=t.join(" ")),c},e.exports=t}).call(this)},function(e,t,r){(function(){"use strict";var t,i,n;for(n=r(7),t={},t.dimensions=["jsReference","jsCode","jsTypeString","jsMoniker","jsonMoniker"],t.jsTypeString=[],t.jsTypeString[n.__undefined]="[object Undefined]",t.jsTypeString[n.__null]="[object Null]",t.jsTypeString[n.__boolean]="[object Boolean]",t.jsTypeString[n.__string]="[object String]",t.jsTypeString[n.__number]="[object Number]",t.jsTypeString[n.__object]="[object Object]",t.jsTypeString[n.__array]="[object Array]",t.jsTypeString[n.__function]="[object Function]",t.jsMoniker=[],t.jsMoniker[n.__undefined]="jsUndefined",t.jsMoniker[n.__null]="jsNull",t.jsMoniker[n.__boolean]="jsBoolean",t.jsMoniker[n.__string]="jsString",t.jsMoniker[n.__number]="jsNumber",t.jsMoniker[n.__object]="jsObject",t.jsMoniker[n.__array]="jsArray",t.jsMoniker[n.__function]="jsFunction",t.jsonMoniker=[],t.jsonMoniker[n.__undefined]=null,t.jsonMoniker[n.__null]="jsonNull",t.jsonMoniker[n.__boolean]="jsonBoolean",t.jsonMoniker[n.__string]="jsonString",t.jsonMoniker[n.__number]="jsonNumber",t.jsonMoniker[n.__object]="jsonObject",t.jsonMoniker[n.__array]="jsonArray",t.jsonMoniker[n.__function]=null,t.jsCodes={},i=0;i<n.__GUARD;)t.jsCodes[t.jsMoniker[i]]=i++;Object.freeze(t),e.exports=t}).call(this)},function(e,t,r){var i;!function(n){"use strict";function o(){var e=n.crypto||n.msCrypto;if(!p&&e&&e.getRandomValues)try{var t=new Uint8Array(16);_=p=function(){return e.getRandomValues(t),t},p()}catch(r){}if(!p){var i=new Array(16);f=p=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function s(){try{var e=r(51).randomBytes;d=p=e&&function(){return e(16)},p()}catch(t){}}function a(e,t,r){var i=t&&r||0,n=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>n&&(t[i+n++]=b[e])});16>n;)t[i+n++]=0;return t}function u(e,t){var r=t||0,i=g;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}function l(e,t,r){var i=t&&r||0,n=t||[];e=e||{};var o=null!=e.clockseq?e.clockseq:j,s=null!=e.msecs?e.msecs:(new Date).getTime(),a=null!=e.nsecs?e.nsecs:S+1,l=s-k+(a-S)/1e4;if(0>l&&null==e.clockseq&&(o=o+1&16383),(0>l||s>k)&&null==e.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");k=s,S=a,j=o,s+=122192928e5;var c=(1e4*(268435455&s)+a)%4294967296;n[i++]=c>>>24&255,n[i++]=c>>>16&255,n[i++]=c>>>8&255,n[i++]=255&c;var p=s/4294967296*1e4&268435455;n[i++]=p>>>8&255,n[i++]=255&p,n[i++]=p>>>24&15|16,n[i++]=p>>>16&255,n[i++]=o>>>8|128,n[i++]=255&o;for(var f=e.node||y,d=0;6>d;d++)n[i+d]=f[d];return t?t:u(n)}function c(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new h(16):null,e=null),e=e||{};var n=e.random||(e.rng||p)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var o=0;16>o;o++)t[i+o]=n[o];return t||u(n)}var p,f,d,_;n?o():s();for(var h="function"==typeof Buffer?Buffer:Array,g=[],b={},m=0;256>m;m++)g[m]=(m+256).toString(16).substr(1),b[g[m]]=m;var v=p(),y=[1|v[0],v[1],v[2],v[3],v[4],v[5]],j=16383&(v[6]<<8|v[7]),k=0,S=0,x=c;x.v1=l,x.v4=c,x.parse=a,x.unparse=u,x.BufferClass=h,x._rng=p,x._mathRNG=f,x._nodeRNG=d,x._whatwgRNG=_,"undefined"!=typeof e&&e.exports?e.exports=x:(i=function(){return x}.call(t,r,t,e),!(void 0!==i&&(e.exports=i)))}("undefined"!=typeof window?window:null)},function(e,t){e.exports={version:"0.0.3",codename:"ultramarine",author:"Encapsule",buildID:"pJNDQWNgQ8egFlqZaFbeZg",buildTime:"1449787396"}},function(e,t,r){var i="BFT",n=r(6),o=r(13),s=r(12);e.exports=function(e){for(var t=null,r={error:null,result:null},a=[],u=!0,l=!1,c=[];!l;){l=!0;var p,f,d=s(e);if(d.error){a.unshift(d.error);break}if(t=d.result,"pending"===t.options.traverseContext.searchStatus)for(f in t.options.traverseContext.colorMap){if(d=o({algorithm:i,visitor:t.visitor,method:"initializeVertex",request:{u:f,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result,!u)break}if(t.options.traverseContext.searchStatus="active",a.length||!u)break;for(p in t.options.startVector){var _=t.options.startVector[p];if(!t.digraph.isVertex(_)){a.unshift("BFT request failed. Vertex '"+_+"' not found in specfied directed graph container.");break}if(t.options.traverseContext.colorMap[_]!==n.white){a.unshift("BFT request failed. Vertex '"+_+"' color map not initialized to white.");break}if(t.options.signalStart){if(d=o({algorithm:i,visitor:t.visitor,method:"startVertex",request:{u:_,g:t.digraph}}),d.error){a.unshift(d.error);break}u=d.result}if(a.length||!u)break;if(d=o({algorithm:i,visitor:t.visitor,method:"discoverVertex",request:{u:_,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result,delete t.options.traverseContext.undiscoveredMap[_],c.push(_),t.options.traverseContext.colorMap[_]=n.gray,!u)break}for(;c.length&&u&&!a.length;){if(f=c.shift(),t.options.traverseContext.colorMap[f]=n.black,d=o({algorithm:i,visitor:t.visitor,method:"examineVertex",request:{u:f,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result,!u)break;var h=t.digraph.outEdges(f);for(p in h){var g=h[p];if(d=o({algorithm:i,visitor:t.visitor,method:"examineEdge",request:{e:g,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result,!u)break;var b=t.options.traverseContext.colorMap[g.v];switch(b){case n.white:if(d=o({algorithm:i,visitor:t.visitor,method:"discoverVertex",request:{u:g.v,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result,delete t.options.traverseContext.undiscoveredMap[g.v],!u)break;if(d=o({algorithm:i,visitor:t.visitor,method:"treeEdge",request:{e:g,g:t.digraph}}),d.error){a.unshift(d.error);break}u=d.result,c.push(g.v),t.options.traverseContext.colorMap[g.v]=n.gray;break;case n.gray:if(d=o({algorithm:i,visitor:t.visitor,method:"nonTreeEdge",request:{e:g,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result){if(d=o({algorithm:i,visitor:t.visitor,method:"grayTarget",request:{e:g,g:t.digraph}}),d.error){a.unshift(d.error);
break}u=d.result}break;case n.black:if(d=o({algorithm:i,visitor:t.visitor,method:"nonTreeEdge",request:{e:g,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result){if(d=o({algorithm:i,visitor:t.visitor,method:"blackTarget",request:{e:g,g:t.digraph}}),d.error){a.unshift(d.error);break}u=d.result}break;default:a.unshift("BFT failure: An invalid color value was found in the color map for vertex '"+g.v+"'. Please file an issue!")}if(a.length||!u)break}if(a.length||!u)break;if(d=o({algorithm:i,visitor:t.visitor,method:"finishVertex",request:{u:f,g:t.digraph}}),d.error){a.unshift(d.error);break}if(u=d.result,!u)break}}return a.length?(t&&(t.options.traverseContext.searchStatus="error"),a.unshift("jsgraph.directed.breadthFirstTraverse algorithm failure:"),r.error=a.join(" ")):(t.options.traverseContext.searchStatus=u?"completed":"terminated",r.result=t.options.traverseContext),r}},function(e,t,r){var i="DFT",n=r(6),o=r(13),s=r(12);e.exports=function(e){for(var t=null,r={error:null,result:null},a=[],u=!0,l=!1;!l;){l=!0;var c,p,f={},d=null,_=null,h=s(e);if(h.error){a.unshift(h.error);break}if(t=h.result,"pending"===t.options.traverseContext.searchStatus)for(p in t.options.traverseContext.colorMap){if(h=o({algorithm:i,visitor:t.visitor,method:"initializeVertex",request:{u:p,g:t.digraph}}),h.error){a.unshift(h.error);break}if(u=h.result,!u)break}if(t.options.traverseContext.searchStatus="active",a.length||!u)break;for(c in t.options.startVector){if(p=t.options.startVector[c],!t.digraph.isVertex(p)){a.unshift("DFT request failed. Vertex '"+p+"' not found in specified directed graph container.");break}if(t.options.traverseContext.colorMap[p]!==n.white){a.unshift("DFT request failed. Vertex '"+p+"' color map not initialized to white.");break}if(t.options.signalStart){if(h=o({algorithm:i,visitor:t.visitor,method:"startVertex",request:{u:p,g:t.digraph}}),h.error){a.unshift(h.error);break}u=h.result}if(!u)break;for(var g=[[p]];g.length&&u&&!a.length;){var b=g[g.length-1][0];switch(t.options.traverseContext.colorMap[b]){case n.white:if(delete t.options.traverseContext.undiscoveredMap[b],t.options.traverseContext.colorMap[b]=n.gray,h=o({algorithm:i,visitor:t.visitor,method:"discoverVertex",request:{u:b,g:t.digraph}}),h.error){a.unshift(h.error);break}if(u=h.result,!u)break;if(g.length>1){if(h=o({algorithm:i,visitor:t.visitor,method:"treeEdge",request:{e:{u:g[g.length-2][0],v:b},g:t.digraph}}),h.error){a.unshift(h.error);break}if(u=h.result,!u)break}for(var m=t.digraph.outEdges(b),v=[];m.length&&!a.length&&u;){var y=m.shift().v;if(h=o({algorithm:i,visitor:t.visitor,method:"examineEdge",request:{e:{u:b,v:y},g:t.digraph}}),h.error){a.unshift(innerRepsonse.error);break}if(u=h.result,!u)break;switch(t.options.traverseContext.colorMap[y]){case n.white:v.push(y);break;case n.gray:h=o({algorithm:i,visitor:t.visitor,method:"backEdge",request:{e:{u:b,v:y},g:t.digraph}}),h.error?a.unshift(h.error):u=h.result;break;case n.black:h=o({algorithm:i,visitor:t.visitor,method:"forwardOrCrossEdge",request:{e:{u:b,v:y},g:t.digraph}}),h.error?a.unshift(h.error):u=h.result}}v.length&&g.push(v);break;case n.gray:if(t.options.traverseContext.colorMap[b]=n.black,h=o({algorithm:i,visitor:t.visitor,method:"finishVertex",request:{u:b,g:t.digraph}}),h.error){a.unshift(h.error);break}if(u=h.result,!u)break;for(var j=t.digraph.inEdges(b);j.length;){var k=j.pop();_=k.u+k.v,f[_]=k}g[g.length-1].shift(),g[g.length-1].length||g.pop();break;case n.black:if(g.length>1){if(d={e:{u:g[g.length-2][0],v:b},g:t.digraph},h=o({algorithm:i,visitor:t.visitor,method:"forwardOrCrossEdge",request:d}),h.error){a.unshift(h.error);break}if(u=h.result,!u)break}g[g.length-1].shift(),g[g.length-1].length||g.pop();break;default:a.unshift("DFT failure: An invalid color value was found in the color map for vertex '"+b+"'.")}}if(a.length||!u)break}if(a.length||!u)break;for(_ in f){if(d={e:f[_],g:t.digraph},h=o({algorithm:i,visitor:t.visitor,method:"finishEdge",request:d}),h.error){a.unshift(h.error);break}if(u=h.result,!u)break}}return a.length?(t&&(t.options.traverseContext.searchStatus="error"),a.unshift("jsgraph.directed.depthFirstTraverse algorithm failure:"),r.error=a.join(" ")):(t.options.traverseContext.searchStatus=u?"completed":"terminated",r.result=t.options.traverseContext),r}},function(e,t,r){var i=r(4),n=r(10).DirectedGraph;e.exports=function(e){var t,r={error:null,result:null},o=[],s=new n,a=i.JSType(e);return"[object Object]"!==a?o.unshift("Expected reference to DirectedGraph but found type '"+a+"'."):(e.getVertices().forEach(function(r){t=s.addVertex({u:r,p:e.getVertexProperty(r)}),t.error&&o.unshift(t.error)}),e.getEdges().forEach(function(r){t=s.addEdge({e:{u:r.v,v:r.u},p:e.getEdgeProperty(r)}),t.error&&o.unshift(t.error)})),o.length?(o.unshift("jsgraph.directed.transpose failed:"),r.error=o.join(" ")):r.result=s,r}},function(e,t,r){var i=r(4),n=e.exports={};n.exportObject=function(e){var t={name:e.getGraphName(),description:e.getGraphDescription(),vlist:[],elist:[]},r={};e.getEdges(),e.getVertices();return e.getEdges().forEach(function(i){var n=e.getEdgeProperty(i);t.elist.push({e:i,p:n}),r[i.u]=r[i.v]=!0}),e.getVertices().forEach(function(n){var o=e.getVertexProperty(n),s=i.JSType(o);"[object Undefined]"!==s?t.vlist.push({u:n,p:o}):r[n]!==!0&&t.vlist.push({u:n})}),t},n.exportJSON=function(e,t,r){return JSON.stringify(n.exportObject(e),t,r)}},function(e,t){e.exports=function(e,t){for(var r,i=function(e){return Object.prototype.toString.call(e)},n={error:null,result:null},o=[],s=!1,a=function(t){l=i(t),"[object Object]"!==l?o.unshift("JSON semantics error: Expected vertex descriptor object in 'vlist' array but found '"+l+"' instead."):(l=i(t.u),"[object String]"!==l?o.unshift("JSON semantics error: Expected vertex descriptor property 'u' to be a string but found '"+l+"' instead."):e.addVertex({u:t.u,p:t.p}))},u=function(t){l=i(t),"[object Object]"!==l?o.unshift("JSON semantics error: Expected edge descriptor object in 'elist' array but found '"+l+"' instead."):(l=i(t.e),"[object Object]"!==l?o.unshift("JSON semantics error: Edge record in 'elist' should define edge descriptor object 'e' but but found '"+l+"' instead."):(l=i(t.e.u),"[object String]"!==l?o.unshift("JSON semantics error: Expected edge descriptor property 'e.u' to be a string but found '"+l+"' instead."):(l=i(t.e.v),"[object String]"!==l?o.unshift("JSON semantics error: Expected edge descriptor property 'e.v' to be a string but found '"+l+"' instead."):e.addEdge({e:t.e,p:t.p}))))};!s;){s=!0;var l=i(t);switch(l){case"[object String]":try{r=JSON.parse(t)}catch(c){o.unshift("Exception occurred while parsing JSON: "+c.message)}break;case"[object Object]":r=t;break;default:o.unshift("Invalid reference to '"+l+"' passed instead of expected JSON (or equivalent object) reference.")}if(o.length)break;if(l=i(r),"[object Object]"!==l){o.unshift("JSON semantics error: Expected top-level object but found '"+l+"'.");break}switch(l=i(r.name)){case"[object Undefined]":r.name="";break;case"[object String]":break;default:o.unshift("JSON semantics error: Expected 'name' to be a string but found '"+l+"'.")}switch(e.setGraphName(r.name),l=i(r.description)){case"[object Undefined]":r.description="";break;case"[object String]":break;default:error.unshift("JSON semantics error: Expected 'description' to be a string but found '"+l+"'.")}switch(e.setGraphDescription(r.description),l=i(r.vlist)){case"[object Undefined]":r.vlist=[];break;case"[object Array]":break;default:o.unshift("JSON semantics error: Expected 'vlist' (vertices) to be an array but found '"+l+"'.")}if(o.length)break;switch(l=i(r.elist)){case"[object Undefined]":r.elist=[];break;case"[object Array]":break;default:o.unshift("JSON semantics error: Expected 'elist' (edges) to be an array but found '"+l+"'.")}if(o.length)break;if(r.vlist.forEach(a),o.length)break;if(r.elist.forEach(u),o.length)break}return o.length?n.error=o.join(" "):n.result=!0,n}},function(e,t,r){var i=r(4),n=function(e){var t={error:null,result:!1},r=i.JSType(e);return"[object String]"!==r?t.error="Invalid value type '"+r+"' found when expecting vertex read request. Expected '[object String]'.":t.result=!0,t},o=function(e){for(var t={error:null,result:!1},r=!1;!r;){r=!0;var n=i.JSType(e);if("[object Object]"!==n){t.error="Invalid value type '"+n+"' found when expecting a vertex write request object.";break}if(n=i.JSType(e.u),"[object String]"!==n){t.error="Invalid value type '"+n+"' found looking for vertex ID string property 'u' in vertex write request object.";break}if(n=i.JSType(e.p),"[object Function]"===n){t.error="Invalid value type '"+n+" found while inspecting vertex property 'p' in vertex write request object. Must be serializable to JSON!";break}t.result=!0}return t},s=function(e){for(var t={error:null,result:!1},r=!1;!r;){r=!0;var n=i.JSType(e);if("[object Object]"!==n){t.error="Invalid value type '"+n+"' found when expecting edge read request object.";break}if(n=i.JSType(e.u),"[object String]"!==n){t.error="Invalid value type '"+n+"' found looking for vertex ID string property 'u' in edge read request object.";break}if(n=i.JSType(e.v),"[object String]"!==n){t.error="Invalid value type '"+n+"' found looking for vertex ID string property 'v' in edge read request object.";break}t.result=!0}return t},a=function(e){for(var t={error:null,result:!1},r=!1;!r;){r=!0;var n=i.JSType(e);if("[object Object]"!==n){t.error="Invalid value type '"+n+"' found when expecting edge write request object.";break}if(n=i.JSType(e.e),"[object Object]"!==n){t.error="Invalid value type '"+n+"' found looking for edge descriptor object 'e' in edge write request object.";break}if(n=i.JSType(e.e.u),"[object String]"!==n){t.error="Invalid value type '"+n+"' found looking for vertex ID string property 'e.u' in edge write request object.";break}if(n=i.JSType(e.e.v),"[object String]"!==n){t.error="Invalid value type '"+n+"' found looking for vertex ID string property 'e.v' in edge write request object.";break}if(n=i.JSType(e.p),"[object Function]"===n){t.error="Invalid value type '"+n+"' found while insecting edge property 'p' in edge write request object. Must be serializable to JSON!";break}t.result=!0}return t};e.exports={verifyVertexReadRequest:n,verifyVertexWriteRequest:o,verifyEdgeReadRequest:s,verifyEdgeWriteRequest:a}},function(e,t,r){(function(){"use strict";var t,i,n,o;i=r(1),n=r(27),o=r(28),t=r(43),e.exports=function(e){var r,i,s,a,u;for(u={error:null,result:null},r=[],s=!1;!s;){if(s=!0,a=n(e),a.error){r.unshift(a.error);break}if(i=a.result,null!=i.inputFilterSpec&&i.inputFilterSpec&&(a=o({path:"~.inputFilterSpec",typemap:i.inputFilterSpec}),a.error)){r.unshift(a.error);break}if(null!=i.outputFilterSpec&&i.outputFilterSpec&&(a=o({path:"~.outputFilterSpec",typemap:i.outputFilterSpec}),a.error)){r.unshift(a.error);break}Object.freeze(i),u.result=new t(i)}return r.length&&(r.unshift("jbus.common.filter.create request failed:"),u.error=r.join(" ")),u}}).call(this)},function(e,t,r){(function(){var t,i,n;t=r(1),i=r(5),n=e.exports=function(e){var r,n,o,s,a,u;for(u={error:null,result:null},r=[],n=!1;!n&&(n=!0,(s=function(e){var t;return t=i.check.inTypeSet({value:e.ref,types:e.types}),t.error?(r.unshift(t.error),r.unshift("Internal error while checking property '"+e.path+"'."),!1):t.result?!0:(null!=e.suppressError&&e.suppressError||(r.unshift(t.guidance),r.unshift("Invalid data type specified for property '"+e.path+"'.")),!1)})({ref:e,path:"~",types:"jsObject"}))&&(a={},s({ref:e.operationID,path:"~.operationID",types:"jsString"}));){if("demo"===e.operationID)a.operationID=t.irut.fromEther();else{if(o=t.irut.isIRUT(e.operationID),o.error){r.unshift(o.error),r.unshift("Internal error checking property '~.operationID'.");break}if(!o.result){r.unshift(o.guidance),r.unshift("Invalid IRUT specified for '~.operationID:");break}a.operationID=e.operationID}if(s({ref:e.operationName,path:"~.operationName",types:"jsString",suppressError:!0})?a.operationName=e.operationName:a.operationName="unnamed",s({ref:e.operationDescription,path:"~.operationDescription",types:"jsString",suppressError:!0})?a.operationDescription=e.operationDescription:a.operationDescription=a.operationID+" provides no description.",s({ref:e.inputName,path:"~.inputName",types:"jsString",suppressError:!0})?a.inputName=e.inputName:a.inputName=a.operationID+" input",s({ref:e.inputDescription,path:"~.inputDescription",types:"jsString",suppressError:!0})?a.inputDescription=e.inputDescription:a.inputDesription=a.operationID+" input provides no description.",!s({ref:e.inputFilterSpec,path:"~.inputFilterSpec",types:["jsUndefined","jsObject"]}))break;if(a.inputFilterSpec=e.inputFilterSpec,s({ref:e.outputName,path:"~.outputName",types:"jsString",suppressError:!0})?a.outputName=e.outputName:a.outputName=a.operationID+" output",s({ref:e.outputDescription,path:"~.outputDescription",types:"jsString",suppressError:!0})?a.outputDescription=e.outputDescription:a.outputDescription=a.operationID+" output provides no description.",!s({ref:e.outputFilterSpec,path:"~.outputFilterSpec",types:["jsUndefined","jsObject"]}))break;if(a.outputFilterSpec=e.outputFilterSpec,!s({ref:e.bodyFunction,path:"~.bodyFunction",types:["jsFunction","jsUndefined"]}))break;a.bodyFunction=e.bodyFunction,u.result=a}return r.length&&(u.error=r.join(" ")),u}}).call(this)},function(e,t,r){(function(){var t,i,n,o;t=r(1),i=r(5),n=e.exports=function(e){var t,r,n,s,a,u,l,c,p,f,d,_,h,g,b,m,v,y,j,k,S,x;for(v={error:null,result:null},l=[],c=!1;!c;){if(c=!0,p=i.check.inTypeSet({value:e,types:"jsObject"}),p.error){l.unshift(p.error);break}if(!p.result){l.unshift(p.guidance),l.unshift("Invalid request:");break}if(p=i.check.inTypeSet({value:e.path,types:"jsString"}),p.error){l.unshift(p.error);break}if(!p.result){l.unshift(p.guidance),l.unshift("Invalid request:");break}if(p=i.check.inTypeSet({value:e.typemap,types:"jsObject"}),p.error){l.unshift(p.error);break}if(!p.result){l.unshift(p.guidance),l.unshift("Invalid request:");break}for(g=[],g.push(e);g.length;){r="default",n=void 0,f=void 0,d=void 0,u=void 0,x=!1,t=!1,m=!1,a=!1,y=!1,k=g.shift(),S=null!=k.path&&k.path||"~",j=k.typemap;for(_ in j){switch(h=j[_],_){case"____opaque":h&&(m=!0);break;case"____defaultValue":a=!0;break;case"____accept":if(x){l.unshift("Redundant type constraint declared on namespace '"+_+"'.");break}if(p=o("____accept",h),p.error){l.unshift(p.error);break}t=!0,x=!0;break;case"____types":if(x){l.unshift("Redundant type constraint declared on namespace '"+_+"'.");break}if(p=o("____types",h),p.error){l.unshift(p.error);break}x=!0;break;case"____label":if(p=i.check.inTypeSet({value:h,types:["jsString"]}),p.error){l.unshift(p.error),l.unshift("Internal error checking directive '"+_+"':");break}if(!p.result){l.unshift(p.guidance),l.unshift("Error checking directive '"+_+"':");break}d=h;break;case"____description":if(p=i.check.inTypeSet({value:h,types:["jsString"]}),p.error){l.unshift(p.error),l.unshift("Internal error checking directive '"+_+"':");break}if(!p.result){l.unshift(p.guidance),l.unshift("Error checking directive '"+_+"':");break}u=h;break;case"____inValueSet":if(p=i.check.inTypeSet({value:h,types:["jsArray"]}),p.error){l.unshift(p.error),l.unshift("Internal error checking directive '"+_+"':");break}if(!p.result){l.unshift(p.guidance),l.unshift("Error checking directive '"+_+"':");break}r="inValueSet",n=h;break;case"____inRangeInclusive":if(p=i.check.inTypeSet({value:h,types:["jsObject"]}),p.error){l.unshift(p.error),l.unshift("Internal error checking directive '"+_+"':");break}if(!p.result){l.unshift(p.guidance),l.unshift("Error checking directive '"+_+"':");break}if(p=i.check.inTypeSet({value:h.begin,types:["jsNumber","jsString"]}),p.error){l.unshift(p.error),l.unshift("Internal error checking directive '"+_+".begin':");break}if(!p.result){l.unshift(p.guidance),l.unshift("Error checking directive '"+_+".begin':");break}if(p=i.check.inTypeSet({value:h.end,types:["jsNumber","jsString"]}),p.error){l.unshift(p.error),l.unshift("Internal error checking directive '"+_+".end':");break}if(!p.result){l.unshift(p.guidance),l.unshift("Error checking directive '"+_+".end':");break}r="inRangeInclusive",n=h;break;default:if(0===_.indexOf("____")){l.unshift("Unrecognized typemap directive '"+_+"' not allowed in declaration.");break}if(p=i.check.inTypeSet({value:h,types:["jsObject"]}),p.error){l.unshift(p.error),l.unshift("Internal error queuing typemap object '"+_+"':");break}if(!p.result){l.unshift(p.guidance),l.unshift("Error queuing typemap object '"+_+"':");break}b=S+"."+_,g.push({path:b,typemap:h}),y=!0}if(t&&y){l.unshift("You cannot declare subnamespace filter spec(s) of a parent namespace declared using '____accept'.");break}}if(!l.length)for(c=!1;!c;){if(c=!0,!x&&!m){l.unshift("Missing required '____accept', '____types', or '_____opaque' type constraint directive.");break}if(x&&m){l.unshift("You cannot specify '____accept' or '____types' constraints on an '____opaque' namespace.");break}if(m&&n){l.unshift("You cannot specify value-based constraints on an '____opaque' namespace.");break}if(x&&a&&(s=t&&"____accept"||"____types",-1!==j[s].indexOf("jsUndefined"))){l.unshift("You cannot specifiy a default value on an optional namespace.");break}}if(l.length){l.unshift("While examining data namespace '"+S+"':");break}}}return l.length?v.error=l.join(" "):v.result=e.typemap,v},o=function(e,t){var r,n,o,s,a,u,l,c;for(l={error:null,result:null},r=[],o=!1;!o;){if(o=!0,s=i.check.inTypeSet({value:t,types:["jsString","jsArray"]}),s.error){r.unshift(s.error),r.unshift("Internal error checking directive '"+e+"':");break}if(!s.result){r.unshift(s.guidance),r.unshift("Error checking directive '"+e+"':");break}if(c="jsString"===s.result?[t]:t,c.length){for(n=0,u=c.length;u>n;n++)if(a=c[n],s=i.convert({to:"jsCode",from:"jsMoniker",value:a}),s.error){r.push(s.error);break}r.length?r.unshift("Error(s) in '"+e+"' directive declaration."):l.result=!0}else r.unshift("Type specification '"+e+"' directive is missing argument(s).")}return r.length&&(l.error=r.join(" ")),l}}).call(this)},function(e,t,r){(function(){var t;t=r(30),e.exports={create:t.request}}).call(this)},function(e,t,r){(function(){var t,i,n,o,s,a,u,l;if(n=r(2),o=r(1),s=r(3),a=r(32),i=r(33),t=r(31),u=n.create({operationID:"v_R2RUU9TEacuwgxmydxGw",operationName:"FilterDAG Factory",operationDescription:"FilterDAG reactive system host factory function.",inputName:s.inputName,inputDescription:s.inputDescription,inputFilterSpec:s.inputFilterSpec,bodyFunction:function(e){var r,n,s,a,u,l,c;for(c={error:null,response:null},r=[],u=!1;!u;){if(u=!0,l=o.irut.isIRUT(e.dagID),l.error){r.unshift(l.error);break}if(!l.result){r.unshift(l.guidance),r.unshift("Invalid value `"+e.dagID+"` specified for `dagID`:");break}if(l=i.request(e.dagSpecification),l.error){r.unshift(l.error);break}if(n=l.result,l=t.request(n),l.error){r.unshift(l.error);break}if(s=l.result,c.result={dagID:e.dagID,dagName:e.dagName,dagDescription:e.dagDescription,spec:n,runtime:s},a={id:this.operationID,name:this.operationName},l=o.irut.fromReference(c.result),l.error){r.unshift(l.error);break}a.hash=l.result,c.result.generator=a;break}return r.length&&(c.error=r.join(" ")),c}}),u.error)throw l=[u.error],l.unshift("Unable to load `jbus-common-filter-dag` module due to error:"),new Error(l.join(" "));e.exports=u.result}).call(this)},function(e,t,r){(function(){var t,i,n,o;if(i=r(2),n=r(1),t=r(3),o=i.create({operationID:"-OOcB4IIRQuMWZJ0zZKPUw",operationName:"FilterDAG Runtime Generator",operationDescription:"Constructs and initializes a FilterDAG reactive system simulation runtime host instance from a FilterDAG Specification Manifest.",bodyFunction:function(e){var t,r,i,o,s,a;for(s={error:null,result:null},t=[],i=!1;!i;){if(i=!0,a={},r={id:this.operationID,name:this.operationName},o=n.irut.fromReference(a),o.error){t.unshift(o.error);break}r.hash=o.result,a.generator=r,s.result=a;break}return t.length&&(s.error=t.join(" ")),s}}),o.error)throw new Error(o.error);e.exports=o.result}).call(this)},function(e,t){(function(){e.exports={outputName:"FilterDAG Object",outputDescription:"A FilterDAG reactive systems host object generated by the FilterDAG factory.",outputFilterSpec:{____label:"FilterDAG",____description:"FilterDAG reactive system host object.",____types:"jsObject",fdnFVPtSQy6UR79kQ_AdHA:{____label:"FilterDAG Object Watermark",____description:"Unique IRUT assigned to all FilterDAG objects to facilitate runtime identification.",____accept:"jsBoolean",____defaultValue:!0},dagID:{____opaque:!0},dagIID:{____opaque:!0},dagName:{____opaque:!0},dagDescription:{____opaque:!0},dagSpecification:{____opaque:!0}}}}).call(this)},function(e,t,r){(function(){var t,i,n,o,s,a,u;if(n=r(2),o=r(1),i=r(3),s=r(38),t=r(34),a=r(42),u=n.create({operationID:"loZ5xDoyTO-bUq77KaBk8g",operationName:"FilterDAG Spec Processor",operationDescription:"Parses a FilerDAG specification descriptor and returns an intermediate result object.",inputFilterSpec:i.dagSpecification,bodyFunction:function(e){var r,i,n,u,l,c,p,f;for(c={error:null,result:null},r=[],u=!1;!u;){if(u=!0,l=s.request(e.model),l.error){r.unshift(l.error);break}if(f=l.result,l=t.request(e.constraints),l.error){r.unshift(l.error);break}if(p=l.result,l=a.request({model:f,constraints:p}),l.error){r.unshift(l.error);break}if(i=l.result,n={id:this.operationID,name:this.operationName},l=o.irut.fromReference(i),l.error){r.unshift(l.error);break}n.hash=l.result,i.generator=n,c.result=i;break}return r.length&&(c.error=r.join(" ")),c}}),u.error)throw new Error(u.error);e.exports=u.result}).call(this)},function(e,t,r){(function(){var t,i,n,o,s,a,u;if(s=r(2),a=r(1),o=r(3),n=r(37),t=r(35),i=r(36),u=s.create({operationID:"tmhYEUdOR_yk5NRLLk3u1A",operationName:"FilterDAG Constraint Processor",operationDescription:"Parses a FilterDAG constraint specification and returns an intermediate result.",inputFilterSpec:o.inputFilterSpec.dagSpecification.contraints,bodyFunction:function(e){var r,o,s,u,l,c,p,f;for(f={error:null,result:null},s=[],c=!1;!c;){if(c=!0,p=n.request(e.types),p.error){s.unshift(p.error);break}if(o=p.result,p=t.request(e.functions),p.error){s.unshift(p.error);break}if(r=p.result,p=i.request({types:o,functions:r}),p.error){s.unshift(p.error);break}if(u=p.result,l={id:this.operationID,name:this.operationName},p=a.irut.fromReference(u),p.error){s.unshift(p.error);break}l.hash=p.result,u.generator=l,f.result=u;break}return s.length&&(f.error=s.join(" ")),f}}),u.error)throw new Error(u.error);e.exports=u.result}).call(this)},function(e,t,r){(function(){var t,i,n,o;if(i=r(2),n=r(1),t=r(3),o=i.create({operationID:"7bqdXoXHSvm90lMvfkOUKQ",operationName:"FilterDAG Function Constraint Processor",operationDescription:"Parses a FilterDAG function constraint specification and returns an intermediate result.",inputFilterSpec:t.inputFilterSpec.dagSpecification.constraints.functions,bodyFunction:function(e){var t,r,i,o,s,a;for(a={error:null,result:null},t=[],o=!1;!o;){if(o=!0,!e.length){t.unshift("You must specifiy at least one function constraint descriptor.");break}r={},i={},s=0,e.forEach(function(e){var o,a,u,l;return a=e.name,u=i[a],null!=u&&u?t.unshift("Illegal duplicate name value '"+a+"' found examining constraints.functions["+s+"]."):(u=i[a]=e,delete u.name,o=n.irut.isIRUT(u.filterBinding.id),o.error&&t.unshift(o.error),o.result||(t.unshift(o.guidance),t.unshift("Illegal filterBinding.id value '"+u.filterBinding.id+"' found examining constraints.functions["+s+"]:")),l=r[u.filterBinding.id],null!=l&&u||(r[u.filterBinding.id]=null)),s++}),t.length||(a.result={functions:i,filters:r});break}return t.length&&(a.error=t.join(" ")),a}}),o.error)throw new Error(o.error);e.exports=o.result}).call(this)},function(e,t,r){(function(){var t,i,n;if(t=r(2),i=r(1),n=t.create({operationID:"ABIJoB_lRfeP4keMZgRkzA",operationName:"FilterDAG Constraint Reconciler",operationDescription:"Reconciles a FilterDAG constraint specification and returns an intermediate result.",bodyFunction:function(e){var t,r,i,n;for(i={error:null,result:null},t=[],r=!1;!r;){r=!0,n=e,i.result=n;break}return t.length&&(i.error=t.join(" ")),i}}),n.error)throw new Error(n.error);e.exports=n.result}).call(this)},function(e,t,r){(function(){var t,i,n,o;if(i=r(2),n=r(1),t=r(3),o=i.create({operationID:"3mXe4YE_RVG7cqZXz92izw",operationName:"FilterDAG Type Constraint Processor",operationDescription:"Parses a FilterDAG type constraint specification and returns an intermediate result.",inputFilterSpec:t.inputFilterSpec.dagSpecification.constraints.types,bodyFunction:function(e){var t,r,o,s,a,u;for(a={error:null,result:null},t=[],o=!1;!o;){if(o=!0,!e.length){t.unshift("You must specify at least one type constraint descriptor.");break}r={},u={},s=0,e.forEach(function(e){var o,a;return a=u[e.name],null!=a&&a?void t.unshift("Illegal duplicate name value '"+e.name+"' found examining constraints.types["+s+"]."):(a=u[e.name]=e,delete a.name,o=i.create({operationID:"demo",inputFilterSpec:a.filterSpec}),o.error?(t.unshift(o.error),void t.unshift("Invalid filter specification declared for type constraint name '"+e.name+"':")):(o=n.irut.fromReference(a.filterSpec),o.error?void t.unshift(o.error):(a.id=o.result,r[o.result]=a.filterSpec,s++)))}),t.length||(a.result={types:u,filterSpecs:r});break}return t.length&&(a.error=t.join(" ")),a}}),o.error)throw new Error(o.error);e.exports=o.result}).call(this)},function(e,t,r){(function(){var t,i,n,o,s,a,u;if(i=r(2),n=r(1),t=r(3),a=r(41),o=r(39),s=r(40),u=i.create({operationID:"Xke4-hLKSIChJos77JVOmg",operationName:"FilterDAG Model Processor",operationDescription:"Parses a FilterDAG specification model and returns an intermediate result.",inputFilterSpec:t.inputFilterSpec.dagSpecification.model,bodyFunction:function(e){var t,r,i,u,l,c,p,f;for(p={error:null,result:null},t=[],u=!1;!u;){if(u=!0,l=a.request(e.transformations),l.error){t.unshift(l.error);break}if(f=l.result,l=o.request({transformModel:f,model:{inputs:e.inputs,outputs:e.outputs}}),l.error){t.unshift(l.error);break}if(c=l.result,l=s.request({transformSpecs:e.transformations,transformModel:f,ioModel:c}),l.error){t.unshift(l.error);break}if(r=l.result,i={id:this.operationID,name:this.operationName},l=n.irut.fromReference(r),l.error){t.unshift(l.error);break}i.hash=l.result,r.generator=i,p.result=r;break}return t.length&&(t.unshift("Error(s) in spec model:"),p.error=t.join(" ")),p}}),u.error)throw new Error(u.error);e.exports=u.result}).call(this)},function(e,t,r){(function(){var t,i,n,o,s,a;if(n=r(2),t=r(3),i=r(8),o={____label:"I/O Model Processor Request",____types:"jsObject",transformModel:i,model:{____types:"jsObject",inputs:t.inputFilterSpec.dagSpecification.model.inputs,outputs:t.inputFilterSpec.dagSpecification.model.outputs}},s=r(14),a=n.create({operationID:"Lry7jHEARSasslVcxqVHww",operationName:"FilterDAG I/O Model Processor",operationDescription:"Parses input and output value declarations of a FilterDAG specification model and returns an intermediate result.",inputFilterSpec:o,bodyFunction:function(e){var t,r,i,n,o,s,a,u,l,c;for(c={error:null,result:null},r=[],n=!1;!n&&(n=!0,s={inputsMap:{},outputsMap:{},typeConstraints:[]},o=0,e.model.inputs.forEach(function(e){var t;return t=s.inputsMap[e.name],null!=t&&t?r.unshift("Illegal duplicate name value '"+e.name+"' found examining model.inputs["+o+"]."):(s.inputsMap[e.name]=e,-1===s.typeConstraints.indexOf(e.typeContraint)&&s.typeConstraints.push(e.typeConstraint)),o++}),o=0,e.model.outputs.forEach(function(e){var t;return t=s.outputsMap[e.name],null!=t&&t?r.unshift("Illegal duplicate name value '"+e.name+"' found examining model.outputs["+o+"]."):(s.outputsMap[e.name]=e,-1===s.typeConstraints.indexOf(e.typeConstraint)&&s.typeConstraints.push(e.typeConstraint)),o++}),!r.length);){a={bad:{missingInputs:[],mislabeledInputs:[],missingOutputs:[],mislabeledOutputs:[],superfluousInputs:[],superfluousOutputs:[]},good:{inputs:[],outputs:[]}},e.transformModel.dependencies.models.inputs.forEach(function(e){var t;return t=s.inputsMap[e],null!=t&&t||-1!==a.bad.missingInputs.indexOf(e)?(t=s.outputsMap[e],null!=t&&t&&-1===a.bad.mislabeledOutputs.indexOf(e)?(a.bad.mislabeledOutputs.push(e),void r.unshift("Transform model relies on input value model '"+e+"' that is declared as an output model.")):a.good.inputs.push(e)):(a.bad.missingInputs.push(e),void r.unshift("Transform model relies on undeclared input value model '"+e+"'."))}),e.transformModel.dependencies.models.outputs.forEach(function(e){var t;return t=s.outputsMap[e],null!=t&&t||-1!==a.bad.missingOutputs.indexOf(e)?(t=s.inputsMap[e],null!=t&&t&&-1===a.bad.mislabeledInputs.indexOf(e)?(a.bad.mislabeledInputs.push(e),void r.unshift("Transform model relies on output value model '"+e+"' that is declared as an input model.")):a.good.outputs.push(e)):(a.bad.missingOutputs.push(e),void r.unshift("Transform model relies on undeclared output value model '"+e+"'."))}),i=[];for(l in s.inputsMap)-1===a.good.inputs.indexOf(l)&&(a.bad.superfluousInputs.push(l),i.unshift("Input model declares unreferenced model '"+l+"'."));for(l in s.outputsMap)-1===a.good.outputs.indexOf(l)&&(a.bad.superfluousOutputs.push(l),i.unshift("Output model declared unreferenced model '"+l+"'."));if(t=a.bad,u=t.missingInputs.length+t.mislabeledInputs.length+t.missingOutputs.length+t.mislabeledOutputs.length,u&&i.forEach(function(e){return r.push(e)}),r.length)break;c.result={ioCache:s,ioCacheReport:a};break}return r.length&&(c.error=r.join(" ")),c},outputFilterSpec:s}),a.error)throw new Error(a.error);e.exports=a.result}).call(this)},function(e,t,r){(function(){var t,i,n,o,s,a;if(o=r(2),i=r(3),n=r(8),t=r(14),s={____types:"jsObject",____label:"FilterDAG Model Reconciler Request",____description:"FilterDAG model reconciliation request object.",transformSpecs:i.inputFilterSpec.dagSpecification.model.transformations,transformModel:n,ioModel:t},a=o.create({operationID:"sRz7IX4XRVyzu9pSACki-g",operationName:"FilterDAG Model Reconciler",operationDescription:"Reconciles a FilterDAG specification model and returns an intermediate result.",inputFilterSpec:s,bodyFunction:function(e){var t,r,i,n,o;for(n={error:null,result:null},t=[],i=!1;!i;){i=!0,r={transformDigraph:e.transformModel.digraph,transformModels:{inputs:{},outputs:{},transforms:{}},inducedConstraints:{types:[],functions:[]}},e.transformModel.dependencies.models.inputs.forEach(function(t){return r.transformModels.inputs[t]=e.ioModel.ioCache.inputsMap[t],delete r.transformModels.inputs[t].name}),e.transformModel.dependencies.models.outputs.forEach(function(t){return r.transformModels.outputs[t]=e.ioModel.ioCache.outputsMap[t],delete r.transformModels.outputs[t].name}),o={},e.transformSpecs.forEach(function(e){var t;return t=o[e.name]=e,delete t.name,delete t.inputModels,delete t.outputModel}),e.transformModel.dependencies.models.transforms.forEach(function(e){return r.transformModels.transforms[e]=o[e]}),e.transformModel.dependencies.constraints.functions.forEach(function(e){return r.inducedConstraints.functions.push(e)}),r.inducedConstraints.functions.sort(),e.ioModel.ioCache.typeConstraints.forEach(function(e){return r.inducedConstraints.types.push(e)}),r.inducedConstraints.types.sort(),n.result=r;break}return t.length&&(n.error=t.join(" ")),n}}),a.error)throw new Error(a.error);e.exports=a.result}).call(this)},function(e,t,r){(function(){var t,i,n,o,s;if(n=r(2),t=r(3),i=r(8),o=r(15),s=n.create({operationID:"h6w300MIQaegK6rK9fDeOw",operationName:"FilterDAG Transformation Digraph Generator",operationDescription:"Creates a digraph model of the functional transformations to be modeled by a FilterDAG reactive system host.",inputFilterSpec:t.inputFilterSpec.dagSpecification.model.transformations,bodyFunction:function(e){var t,r,i,n,s,a,u,l,c,p,f;for(l={error:null,result:null},n=[],s=!1;!s;){if(s=!0,!e.length){n.unshift("You must specify at least one transformation descriptor.");break}if(u=o.directed.create({name:"Model Transformations Digraph",description:"Directed graph model of a FilterDAG reactive data transformation system."
}),u.error){n.unshift(u.error),n.unshift("Interal error allocating digraph:");break}if(p=u.result,f={models:{inputs:[],outputs:[],transforms:[]},constraints:{functions:[]}},a=0,e.forEach(function(e){var t,r;if(p.isVertex(e.name))return void n.unshift("Transformation '"+e.name+"' illegally re-defined.");if(f.models.transforms.push(e.name),!e.inputModels.length)return void n.unshift("Transformation '"+e.name+"' must declare at least one input model.");if(p.isVertex(e.outputModel)){if(r=p.getVertexProperty(e.outputModel),"value"!==r.type)return void n.unshift("Transform '"+e.name+"' specifies an illegal output model "+("'"+e.outputModel+"' of type '"+vertexPropertes.type+"'."));if(p.inDegree(e.outputModel))return t=p.inEdges(e.outputModel)[0],void n.unshift("Transformation '"+e.name+"' specifies output model "+("'"+e.outputModel+"' that is already specified as the output of transformation '"+t.u+"'."))}else p.addVertex({u:e.outputModel,p:{type:"value"}}),-1===f.models.outputs.indexOf(e.outputModel)&&f.models.outputs.push(e.outputModel);return p.addVertex({u:e.name,p:{type:"transformation"}}),-1===f.constraints.functions.indexOf(e.functionConstraint)&&f.constraints.functions.push(e.functionConstraint),p.addEdge({e:{u:e.name,v:e.outputModel},p:{type:"output"}}),e.inputModels.length?e.inputModels.forEach(function(t){if(p.isVertex(t.inputModel)){if("value"!==p.getVertexProperty(t.inputModel).type)return void n.unshift("Transform '"+e.name+"' specifies an illegal input model '"+t.inputModel+"'.")}else p.addVertex({u:t.inputModel,p:{type:"value"}}),f.models.inputs.indexOf(t.inputModel)&&f.models.inputs.push(t.inputModel);return p.addEdge({e:{u:t.inputModel,v:e.name},p:{type:"input",mapping:t.requestMapping}})}):n.unshift("transformations["+a+"] declares no input models."),a++}),n.length)break;if(c=p.getRootVertices(),c.length||(n.unshift("Illegal DAG model declares no external system input values."),c.push(p.getVertices()[0])),t=[],r={backEdge:function(e){return t.push(e.e),!0}},i=o.directed.depthFirstTraverse({digraph:p,visitor:r,options:{startVertices:c}}),i.error){n.unshift(i.error);break}if(t.length){n.unshift("Illegal cycle in DAG model introduced by edge: '"+JSON.stringify(t)+"'.");break}l.result={digraph:p.toObject(),dependencies:f}}return n.length&&(l.error=n.join(" ")),l},outputFilterSpec:i}),s.error)throw new Error(s.error);e.exports=s.result}).call(this)},function(e,t,r){(function(){var t,i;if(t=r(2),i=t.create({operationID:"GLxLYuwnTCyCyr-lKfohUg",operationName:"FilterDAG Specification Reconciler",operationDescription:"Performs static analysis on a FilerDAG model and constraint declarations and returns an intermediate result.",bodyFunction:function(e){var t,r,i,n;for(n={error:null,result:null},t=[],i=!1;!i;){i=!0,r={},r.model={},r.model.system=e.model.transformDigraph,r.model.map=e.model.transformModels,r.constraints={},r.constraints.types={},r.constraints.functions={},r.inducedRuntime={filterSpecs:{},filters:{}},e.model.inducedConstraints.types.forEach(function(i){var n,o;return n=e.constraints.types.types[i],null!=n&&n?(o=r.inducedRuntime.filterSpecs[n.id],null!=o&&o||(r.inducedRuntime.filterSpecs[n.id]=n.filterSpec),delete n.filterSpec,r.constraints.types[i]=n):t.push("System model depends on undeclared constraint type '"+i+"'.")}),e.model.inducedConstraints.functions.forEach(function(i){var n,o;return n=e.constraints.functions.functions[i],null!=n&&n?(o=r.inducedRuntime.filters[n.filterBinding.id],null!=o&&o||(r.inducedRuntime.filters[n.filterBinding.id]=null),n.id=n.filterBinding.id,delete n.filterBinding,r.constraints.functions[i]=n):t.push("System model depends on undeclared constraint function '"+i+"'.")}),n.result=r;break}return t.length&&(t.unshift("Unable to reconcile FilterDAG model and constraints."),n.error=t.join(" ")),n}}),i.error)throw new Error(i.error);e.exports=i.result}).call(this)},function(e,t,r){(function(){"use strict";var t,i,n,o,s=function(e,t){return function(){return e.apply(t,arguments)}};i=r(1),o=r(44),n={____types:"jsObject",____label:"NF Response Object",____description:"Normalized Function (NF) response object.",error:{____types:["jsNull","jsString"],____label:"Error",____description:"A string explaining why response.result is null. Or, null if no error occurred.",____defaultValue:null},result:{____opaque:!0,____label:"Result",____description:"Null if an error occurred. Otherwise, some opaque JavaScript value reference."}},Object.freeze(n),e.exports=t=function(){function e(e){this.request=s(this.request,this),this.filterDescriptor=e}return e.prototype.request=function(e){var t,r,i,s,a,u,l,c;for(l={error:null,result:null},i=[],s=!1;!s;){if(s=!0,r="verifying input data",a=o({value:e,spec:this.filterDescriptor.inputFilterSpec}),a.error){i.unshift(a.error);break}if(this.filterDescriptor.bodyFunction){if(r="executing function body",t=this.filterDescriptor.bodyFunction(a.result),r="analyzing response signature",c=o({value:t,spec:n}),c.error){i.unshift(c.error);break}if(r="analyzing response disposition",t.error){i.unshift(t.error);break}}else t=a;if(r="verifying response result data",u=o({value:t.result,spec:this.filterDescriptor.outputFilterSpec}),u.error){i.unshift(u.error);break}l.result=u.result}return i.length&&(i.unshift("An error occurred in function ["+this.filterDescriptor.operationName+"::"+this.filterDescriptor.operationID+"] while "+r+":"),l.error=i.join(" ")),l},e}()}).call(this)},function(e,t,r){(function(){var t,i,n;t=r(1),i=r(5),n=e.exports=function(e){var t,r,n,o,s,a,u,l,c,p,f,d,_,h,g,b,m,v,y,j,k,S,x,D,F,E,O,A,M,w,I;for(l=[],E={error:null,result:null},f=!1,c=void 0;!f;){if(f=!0,j=[],h=i.check.inTypeSet({value:e,types:"jsObject"}),h.error&&l.unshift(h.error),h.result||l.unshift(h.guidance),l.length){l.unshift("Invalid request:");break}if(h=i.check.inTypeSet({value:e.spec,types:["jsObject","jsUndefined"]}),h.error&&l.unshift(h.error),h.result||l.unshift(h.guidance),l.length){l.unshift("Invalid request missing 'spec' declaration:");break}if("jsUndefined"===h.result){c=e.value;break}for(j.push({namespace:void 0,path:void 0,spec:e.spec,inputData:e.value,outputData:c});j.length;){if(A=j.shift(),w=null!=A.path&&A.path||"~",O=A.spec,g=A.inputData,F=A.outputData,S=A.namespace,h=i.check.inTypeSet({value:O.____opaque,types:"jsBoolean"}),D=h.result&&O.____opaque,h=i.check.inTypeSet({value:O.____defaultValue,types:"jsUndefined"}),a=!h.result,t=!1,D)!a||null!=g&&g||(h=i.check.inTypeSet({value:g,types:"jsUndefined"}),h.result&&a&&(g=O.____defaultValue));else{if(s=null,null!=O.____accept&&O.____accept?(t=!0,s="____accept"):s="____types",h=i.check.inTypeSet({value:g,types:O[s]}),h.error){l.unshift(h.error);break}if(!h.result){if(b=i.check.inTypeSet({value:g,types:"jsUndefined"}).result,!b||!a){l.unshift(h.guidance);break}if(h=i.check.inTypeSet({value:O.____defaultValue,types:O[s]}),h.error){l.unshift(h.error),l.unshift("BAD DEFAULT VALUE!");break}if(!h.result){l.unshift(h.guidance),l.unshift("BAD DEFAULT VALUE!");break}g=O.____defaultValue}I=h.result}o=void 0,n=void 0,k=[],M=0;for(v in O){switch(y=O[v],v){case"____types":break;case"____accept":break;case"____opaque":break;case"____defaultValue":break;case"____inValueSet":o=y;break;case"____inRangeInclusive":n=y;break;case"____label":break;case"____description":break;default:if("jsArray"===I)for(_=0,p=0,m=g.length;m>p;p++)u=g[p],k.push({namespace:_,path:w+"."+v+"["+_++ +"]",spec:y,inputData:u});else k.push({namespace:v,path:w+"."+v,spec:y,inputData:null!=g&&g&&g[v]||void 0})}if(l.length)break}if(l.length)break;if(null!=o&&o&&"jsUndefined"!==I&&(_=o.indexOf(g),-1===_)){l.unshift("Invalid value '"+g+"' not in allowed value set: ["+o.join(",")+"].");break}if(null!=n&&n&&"jsUndefined"!==I){if(d=!0,g<n.begin){l.unshift("Invalid value '"+g+"' below allowed value range '"+n.begin+"','"+n.end+"'.");break}if(g>n.end){l.unshift("Invalid value '"+g+"' above allowed value range '"+n.begin+"','"+n.end+"'.");break}}if(l.length)break;if(r=void 0,D)r=g;else switch(I){case"jsObject":r=t&&g||{};break;case"jsArray":r=t&&g||[];break;default:r=g}for(x=null!=S&&S||"[object Number]"===Object.prototype.toString.call(S)?F[S]=r:c=r;"jsUndefined"!==I&&k.length;)A=k.shift(),A.outputData=x,j.push(A)}if(l.length){l.unshift("Error at path '"+w+"':");break}}return l.length?(l.unshift("Runtime data check failed:"),E.error=l.join(" ")):E.result=c,E}}).call(this)},function(e,t,r){(function(){var t,i;i=r(9),t=e.exports={},t.fromUTF8=function(e){var t,r;return r=new Buffer(e,"utf-8"),t=r.toString("ascii"),i(t)},t.fromReference=function(e){return t.fromUTF8(JSON.stringify(e))}}).call(this)},function(e,t,r){(function(){var t,i,n,o;o=r(18),i=r(9),n=r(5),t=e.exports={},t.fromEther=function(){var e,t,r,i,n,s,a;for(t=o.v4(null,new Uint8Array(16,0)),r=new Buffer(t).toString("base64"),a=r.length,e=0;"="===r.charAt(a-1);)a--;return i=r.slice(0,a),n=i.replace(/\+/g,"-"),s=n.replace(/\//g,"_")},t.fromReference=function(e){var t,r,o,s,a,u,l,c,p,f,d,_,h,g,b,m,v,y;for(s=[],y={error:null,result:null},u=!1;!u;){if(u=!0,t=n.check.isJSON(e),t.error){s.unshift(t.error);break}if(!t.result){s.unshift("Input reference must address top-level data convertible directly to JSON.");break}if(p="jsonString"===t.result&&e||JSON.stringify(e),f=new Buffer(p,"utf-8"),d=f.toString("ascii"),!d.length){s.unshift("No data to hash!");break}for(d.length<64&&(d=Array(Math.ceil(64/d.length+1)).join(d)),o=Math.ceil(d.length/4),l=0,v=0,h=[];v<d.length;)r=d.substring(v,v+o),a=i(r),h[l]=255&a,h[l+4]=(65280&a)>>8,h[l+8]=(16711680&a)>>16,h[l+12]=(4278190080&a)>>24,v+=o,l++;for(_=new Buffer(h).toString("base64"),c=0;"="===_.charAt(_.length-c-1);)c++;g=_.slice(0,_.length-c),b=g.replace(/\+/g,"-"),m=b.replace(/\//g,"_"),y.result=m}return s.length&&(s.unshift("jbus common identifier IRUT generation failed:"),y.error=s.join(" ")),y},t.isIRUT=function(e){var t,r,i,o,s;for(s={error:null,guidance:null,result:null},r=[],i=!1;!i;){if(i=!0,t=n.check.inTypeSet({value:e,types:"jsString"}),t.error){r.unshift(t.error);break}if(!t.result){s.guidance=t.guidance,s.result=!1;break}if(22!==e.length){s.guidance="Expected 22-character string. Found "+e.length+"-character string instead.",s.result=!1;break}if(o=e.match(/^([A-Z]|[a-z]|[0-9]|-|_){22}$/),null===o){s.guidance="Expected only Base64 characters (substitute: '+' > '-', '/' > '_').",s.result=!1;break}s.result=!0}return r.length&&(r.unshift("jbus common IRUT identifier verification failed:"),s.error=r.join(" ")),s}}).call(this)},function(e,t,r){(function(){var t,i,n,o;i=r(7),o=r(17),n=r(16),t={},t.inTypeSet=function(e){var t,r,i,o,s,a;for(r=[],o={error:null,guidance:null,result:null},i=!1;!i;){if(i=!0,null==e||null==e){r.unshift("Missing request object in-parameter.");break}if(t=n({to:"jsTypeString",from:"jsReference",value:e}),t.error){r.unshift(t.error);break}if("[object Object]"!==t.result){r.unshift("Invalid request: Expected value of type '[object Object]' but found '"+t.result+"' instead.");break}if(t=n({to:"jsMoniker",from:"jsReference",value:e.value}),t.error){r.unshift(t.error);break}if(a=t.result,t=n({to:"jsMoniker",from:"jsReference",value:e.types}),t.error){r.unshift(t.error);break}switch(s=t.result){case"jsString":o.result=e.types===a&&a||!1;break;case"jsArray":o.result=-1!==e.types.indexOf(a)&&a||!1;break;default:r.unshift("Invalid request.types value type '"+s+"'. Expected either '[object String]' (jsMoniker string) or '[object Array]' (of jsMoniker strings).")}if(r.length)break;o.result||(o.guidance="Value of type '"+a+"' not in allowed type set ["+e.types+"].")}return r.length&&(r.unshift("jbus type in set check failed:"),o.error=r.join(" ")),o},t.isJSON=function(e){var t,r,i,o;for(r=[],o={error:null,guidance:null,result:null},i=!1;!i;){if(i=!0,t=n({to:"jsonMoniker",from:"jsReference",value:e}),t.error){o.guidance=t.error,o.result=!1;break}o.result=t.result}return r.length&&(r.unshift("jbus type JSON check failed:"),o.error=r.join(" ")),o},e.exports=t}).call(this)},function(e,t){(function(){var t;t={},t.deepCopy=function(e){var r,i,n;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return r="",null!=object_.global&&(r+="g"),null!=object_.ignoreCase&&(r+="i"),null!=object_.multiline&&(r+="m"),null!=object_.sticky&&(r+="y"),new RegExp(e.source,r);i=new e.constructor;for(n in e)i[n]=t.deepCopy(e[n]);return i},t.clone=function(e){return t.deepCopy(e)},t.dictionaryLength=function(e){return Object.keys(e).length},t.getEpochTime=function(){return Math.round((new Date).getTime()/1e3)},e.exports=t}).call(this)},function(e,t){function r(e,t){for(var r,i=e.length,n=t^i,o=0;i>=4;)r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),r^=r>>>24,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^r,i-=4,++o;switch(i){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n^=255&e.charCodeAt(o),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>15,n>>>0}void 0!==typeof e&&(e.exports=r)},function(e,t,r){function i(e,t){var r,i,n,o,s,a,u,l;for(r=3&e.length,i=e.length-r,n=t,s=3432918353,a=461845907,l=0;i>l;)u=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295,n^=u,n=n<<13|n>>>19,o=5*(65535&n)+((5*(n>>>16)&65535)<<16)&4294967295,n=(65535&o)+27492+(((o>>>16)+58964&65535)<<16);switch(u=0,r){case 3:u^=(255&e.charCodeAt(l+2))<<16;case 2:u^=(255&e.charCodeAt(l+1))<<8;case 1:u^=255&e.charCodeAt(l),u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295,n^=u}return n^=e.length,n^=n>>>16,n=2246822507*(65535&n)+((2246822507*(n>>>16)&65535)<<16)&4294967295,n^=n>>>13,n=3266489909*(65535&n)+((3266489909*(n>>>16)&65535)<<16)&4294967295,n^=n>>>16,n>>>0}e.exports=i},function(e,t){e.exports=r(13)}])},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t){e.exports={version:"0.0.3",codename:"ultramarine",author:"Encapsule",buildID:"YUFM3x-jTdqVSDChQobc7g",buildTime:"1449787455"}},function(e,t,r){var i=r(2),n=r(3),o=r(1),s=o.filter.create({operationID:"eftlEdnnQW2SXkDtcCHdig",operationName:"Synchronous File & Directory Enumerator",operationDescription:"Synchronous lookup of subdirectory and file paths of the indicated directory (or current working directory if none is specified).",inputFilterSpec:{____label:"Enumerate Subdirectory Request",____description:"Enumerate subdirectory and files request object.",____types:"jsObject",____defaultValue:{},parentDirectory:{____label:"Input Directory Path",____description:"Input directory path string or undefined to use the current working directory for the search.",____accept:["jsUndefined","jsString"]},fileCallback:{____label:"File Callback",____description:"Optional callback for determining if a file path should be included in the search results. Return true to include, false to exclude.",____accept:["jsUndefined","jsFunction"]}},bodyFunction:function(e){for(var t={error:null,result:null},r=[],o=!1;!o;){if(o=!0,result={parentDirectory:null,subDirectories:[],files:[]},e.parentDirectory){if(!i.existsSync(e.parentDirectory)){r.unshift("The indicated path '"+e.parentDirectory+"' does not exist.");break}if(!i.statSync(e.parentDirectory).isDirectory()){r.unshift("The indicated path '"+e.parentDirectory+"' is not a directory.");break}var s=e.parentDirectory;n.isAbsolute(s)||(s=n.join(process.cwd(),s)),result.parentDirectory=n.normalize(s)}else result.parentDirectory=process.cwd();for(directoryStack=[result.parentDirectory];directoryStack.length;)directory=directoryStack.shift(),filenames=i.readdirSync(directory)||[],filenames.forEach(function(t){var r=n.join(directory,t);if(i.statSync(r).isDirectory())result.subDirectories.push(r),directoryStack.push(r);else if(e.fileCallback){var o=e.fileCallback(r);o===!0&&result.files.push(r)}});t.result=result;break}return r.length&&(t.error=r.join(" ")),t},outputFilterSpec:{____label:"Subdirectory Paths",____description:"An array of subdirectory paths associated with the indicated parent directory path.",____types:"jsObject",parentDirectory:{____label:"Parent Directory",____description:"The directory the search was performed from.",____accept:"jsString"},subDirectories:{____label:"Subdirectory Array",____description:"An array of subdirectory paths discovered within the parent directory.",____types:"jsArray",path:{____label:"Subdirectory Path",____description:"A subdirectory path string.",____accept:"jsString"}},files:{____label:"Files Array",____description:"An array of file paths accepted by your optional file handler callback.",____types:"jsArray",path:{____label:"Subdirectory Path",____description:"A subdirectory path string.",____accept:"jsString"}}}});if(s.error)throw new Error(s.error);e.exports=s.result},function(e,t,r){var i=r(1),n=i.filter.create({operationID:"XkLs1-s1SFGTchfd9eZqYA",operationName:"FilterDAG Factory Request Loader",operationDescription:"Loads a FilterDAG factory request object loader.",inputFilterSpec:{____label:"FilterDAG Factory Wrapper",____description:"Wraps an IRUT-identified FilterDAG factory request object.",____types:"jsObject","XkLs1-s1SFGTchfd9eZqYA":{____label:"FilterDAG Specification Object",____description:"An unparsed FilterDAG factory request object to be compiled into a FilterDAG manifest.",____accept:"jsObject",____defaultValue:{generateID:!0,dagID:"",dagName:"",dagDescription:"",dagSpecification:{model:{inputs:[],transformations:[],outputs:[]},constraints:{types:[],functons:[]}}}}},bodyFunction:function(e){var t={error:null,result:e},r=e["XkLs1-s1SFGTchfd9eZqYA"];return r.generateID&&(r.dagID=i.identifier.irut.fromEther(),delete r.generateID),t.result=r,t}});if(n.error)throw new Error(n.error);e.exports=n.result},function(module,exports,__webpack_require__){var FS=__webpack_require__(2),PATH=__webpack_require__(3),ARC_CORE=__webpack_require__(1),response=ARC_CORE.filter.create({operationID:"PTKIgSxMRJ6C-3Tb53SF9w",operationName:"JavaScript Resource Loader",operationDescription:"Loads an external JavaScript or JSON file and returns a JavaScript reference.",inputFilterSpec:{____label:"Filesystem Resource Path",____description:"Local filesystem path to the JavaScript file resource to load.",____accept:"jsString"},bodyFunction:function(request_){for(var response={error:null,result:null},errors=[],inBreakScope=!1;!inBreakScope;){inBreakScope=!0;var resource=void 0,npath=request_;if(!FS.existsSync(npath)){errors.unshift("The indicated path '"+npath+"' does not exist.");break}if(!FS.statSync(npath).isFile()){errors.unshift("The indicated path '"+npath+"' is not a file.");break}PATH.isAbsolute(npath)||(npath=PATH.join(process.cwd(),npath)),npath=PATH.normalize(npath);var fileContents=FS.readFileSync(npath);try{eval("resource = "+fileContents)}catch(error_){errors.unshift(error_.toString()),errors.unshift("Fatal exception executing JavaScript eval operator on filesystem path ` '"+npath+"':")}if(errors.length)break;response.result={origin:npath,resource:resource};break}return errors.length&&(response.error=errors.join(" ")),response},outputFilterSpec:{____label:"In-Memory JavaScript Resource",____description:"An in-memory JavaScript resource loaded dynamically from a local file resource.",____types:"jsObject",origin:{____label:"Resource Path",____description:"The local filesystem path from which the resource was loaded.",____accept:"jsString"},resource:{____label:"Resource",____description:"In-memory JavaScript resource reference (variant type).",____opaque:!0}}});if(response.error)throw new Error(response.error);module.exports=response.result},function(e,t,r){var i=r(2),n=r(3),o=r(1),s=o.filter.create({operationID:"h3PzBZmHTCWs7os5SQsXxg",operationName:"Resource Writer",operationDescription:"Writes a string to the specified file on local filesystem.",inputFilterSpec:{____label:"Resource Writer Request",____description:"Resource writer request object.",____types:"jsObject",resource:{____label:"Resource String",____description:"Resource string to write to file.",____accept:"jsString"},path:{____label:"Filesystem Resource Path",____description:"Local filesystem path to the JavaScript file resource to load.",____accept:"jsString"}},bodyFunction:function(e){for(var t={error:null,result:null},r=[],o=!1;!o;){o=!0;var s=void 0,a=e.path;n.isAbsolute(a)||(a=n.join(process.cwd(),a)),a=n.normalize(a);try{i.writeFileSync(a,e.resource)}catch(u){r.unshift(u.toString())}if(r.length)break;t.result={origin:a,resource:s};break}return r.length&&(t.error=r.join(" ")),t}});if(s.error)throw new Error(s.error);e.exports=s.result},function(e,t,r){var i=r(4);e.exports=function(e){var t="**** Encapsule/arctools: "+e+" v"+i.version+' release "'+i.codename+'" build "'+i.buildID+'" ****';return t}},function(e,t,r){function i(e,t){this.flags=e,this.required=~e.indexOf("<"),this.optional=~e.indexOf("["),this.bool=!~e.indexOf("-no-"),e=e.split(/[ ,|]+/),e.length>1&&!/^[[<]/.test(e[1])&&(this["short"]=e.shift()),this["long"]=e.shift(),this.description=t||""}function n(e){this.commands=[],this.options=[],this._execs={},this._allowUnknownOption=!1,this._args=[],this._name=e||""}function o(e){return e.split("-").reduce(function(e,t){return e+t[0].toUpperCase()+t.slice(1)})}function s(e,t){var r=Math.max(0,t-e.length);return e+Array(r+1).join(" ")}function a(e,t){t=t||[];for(var r=0;r<t.length;r++)("--help"==t[r]||"-h"==t[r])&&(e.outputHelp(),process.exit(0))}function u(e){var t=e.name+(e.variadic===!0?"...":"");return e.required?"<"+t+">":"["+t+"]"}function l(e){try{if(g.statSync(e).isFile())return!0}catch(t){return!1}}var c=r(14).EventEmitter,p=r(12).spawn,f=r(11).readlinkSync,d=r(3),_=d.dirname,h=d.basename,g=r(2);t=e.exports=new n,t.Command=n,t.Option=i,i.prototype.name=function(){return this["long"].replace("--","").replace("no-","")},i.prototype.is=function(e){return e==this["short"]||e==this["long"]},n.prototype.__proto__=c.prototype,n.prototype.command=function(e,t,r){r=r||{};var i=e.split(/ +/),o=new n(i.shift());return t&&(o.description(t),this.executables=!0,this._execs[o._name]=!0,r.isDefault&&(this.defaultExecutable=o._name)),o._noHelp=!!r.noHelp,this.commands.push(o),o.parseExpectedArgs(i),o.parent=this,t?this:o},n.prototype.arguments=function(e){return this.parseExpectedArgs(e.split(/ +/))},n.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")},n.prototype.parseExpectedArgs=function(e){if(e.length){var t=this;return e.forEach(function(e){var r={required:!1,name:"",variadic:!1};switch(e[0]){case"<":r.required=!0,r.name=e.slice(1,-1);break;case"[":r.name=e.slice(1,-1)}r.name.length>3&&"..."===r.name.slice(-3)&&(r.variadic=!0,r.name=r.name.slice(0,-3)),r.name&&t._args.push(r)}),this}},n.prototype.action=function(e){var t=this,r=function(r,i){r=r||[],i=i||[];var n=t.parseOptions(i);a(t,n.unknown),n.unknown.length>0&&t.unknownOption(n.unknown[0]),n.args.length&&(r=n.args.concat(r)),t._args.forEach(function(e,i){e.required&&null==r[i]?t.missingArgument(e.name):e.variadic&&(i!==t._args.length-1&&t.variadicArgNotLast(e.name),r[i]=r.splice(i))}),t._args.length?r[t._args.length]=t:r.push(t),e.apply(t,r)},i=this.parent||this,n=i===this?"*":this._name;return i.on(n,r),this._alias&&i.on(this._alias,r),this},n.prototype.option=function(e,t,r,n){var s=this,a=new i(e,t),u=a.name(),l=o(u);if("function"!=typeof r)if(r instanceof RegExp){var c=r;r=function(e,t){var r=c.exec(e);return r?r[0]:t}}else n=r,r=null;return(0==a.bool||a.optional||a.required)&&(0==a.bool&&(n=!0),void 0!==n&&(s[l]=n)),this.options.push(a),this.on(u,function(e){null!==e&&r&&(e=r(e,void 0===s[l]?n:s[l])),"boolean"==typeof s[l]||"undefined"==typeof s[l]?null==e?s[l]=a.bool?n||!0:!1:s[l]=e:null!==e&&(s[l]=e)}),this},n.prototype.allowUnknownOption=function(e){return this._allowUnknownOption=0===arguments.length||e,this},n.prototype.parse=function(e){this.executables&&this.addImplicitHelpCommand(),this.rawArgs=e,this._name=this._name||h(e[1],".js"),this.executables&&e.length<3&&!this.defaultExecutable&&e.push("--help");var t=this.parseOptions(this.normalize(e.slice(2))),r=this.args=t.args,i=this.parseArgs(this.args,t.unknown),n=i.args[0];return this._execs[n]&&"function"!=typeof this._execs[n]?this.executeSubCommand(e,r,t.unknown):this.defaultExecutable?(r.unshift(n=this.defaultExecutable),this.executeSubCommand(e,r,t.unknown)):i},n.prototype.executeSubCommand=function(e,t,r){t=t.concat(r),t.length||this.help(),"help"==t[0]&&1==t.length&&this.help(),"help"==t[0]&&(t[0]=t[1],t[1]="--help");var i,n=e[1],o=h(n,".js")+"-"+t[0],s=f(n);s!==n&&"/"!==s.charAt(0)&&(s=d.join(_(n),s)),i=_(s);var a=d.join(i,o),u=!1;l(a+".js")?(o=a+".js",u=!0):l(a)&&(o=a),t=t.slice(1);var c;"win32"!==process.platform?u?(t.unshift(a),t=(process.execArgv||[]).concat(t),c=p("node",t,{stdio:"inherit",customFds:[0,1,2]})):c=p(o,t,{stdio:"inherit",customFds:[0,1,2]}):(t.unshift(a),c=p(process.execPath,t,{stdio:"inherit"})),c.on("close",process.exit.bind(process)),c.on("error",function(e){"ENOENT"==e.code?console.error("\n  %s(1) does not exist, try --help\n",o):"EACCES"==e.code&&console.error("\n  %s(1) not executable. try chmod or run with root\n",o),process.exit(1)}),this.runningCommand=c},n.prototype.normalize=function(e){for(var t,r,i,n=[],o=0,s=e.length;s>o;++o){if(t=e[o],o>0&&(r=this.optionFor(e[o-1])),"--"===t){n=n.concat(e.slice(o));break}r&&r.required?n.push(t):t.length>1&&"-"==t[0]&&"-"!=t[1]?t.slice(1).split("").forEach(function(e){n.push("-"+e)}):/^--/.test(t)&&~(i=t.indexOf("="))?n.push(t.slice(0,i),t.slice(i+1)):n.push(t)}return n},n.prototype.parseArgs=function(e,t){var r;return e.length?(r=e[0],this.listeners(r).length?this.emit(e.shift(),e,t):this.emit("*",e)):(a(this,t),t.length>0&&this.unknownOption(t[0])),this},n.prototype.optionFor=function(e){for(var t=0,r=this.options.length;r>t;++t)if(this.options[t].is(e))return this.options[t]},n.prototype.parseOptions=function(e){for(var t,r,i,n=[],o=e.length,s=[],a=0;o>a;++a)if(i=e[a],"--"!=i)if(t)n.push(i);else if(r=this.optionFor(i))if(r.required){if(i=e[++a],null==i)return this.optionMissingArgument(r);this.emit(r.name(),i)}else r.optional?(i=e[a+1],null==i||"-"==i[0]&&"-"!=i?i=null:++a,this.emit(r.name(),i)):this.emit(r.name());else i.length>1&&"-"==i[0]?(s.push(i),e[a+1]&&"-"!=e[a+1][0]&&s.push(e[++a])):n.push(i);else t=!0;return{args:n,unknown:s}},n.prototype.opts=function(){for(var e={},t=this.options.length,r=0;t>r;r++){var i=o(this.options[r].name());e[i]="version"===i?this._version:this[i]}return e},n.prototype.missingArgument=function(e){console.error(),console.error("  error: missing required argument `%s'",e),console.error(),process.exit(1)},n.prototype.optionMissingArgument=function(e,t){console.error(),t?console.error("  error: option `%s' argument missing, got `%s'",e.flags,t):console.error("  error: option `%s' argument missing",e.flags),console.error(),process.exit(1)},n.prototype.unknownOption=function(e){this._allowUnknownOption||(console.error(),console.error("  error: unknown option `%s'",e),console.error(),process.exit(1))},n.prototype.variadicArgNotLast=function(e){console.error(),console.error("  error: variadic arguments must be last `%s'",e),console.error(),process.exit(1)},n.prototype.version=function(e,t){return 0==arguments.length?this._version:(this._version=e,t=t||"-V, --version",this.option(t,"output the version number"),this.on("version",function(){process.stdout.write(e+"\n"),process.exit(0)}),this)},n.prototype.description=function(e){return 0===arguments.length?this._description:(this._description=e,this)},n.prototype.alias=function(e){return 0==arguments.length?this._alias:(this._alias=e,this)},n.prototype.usage=function(e){var t=this._args.map(function(e){return u(e)}),r="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+t.join(" "):"");return 0==arguments.length?this._usage||r:(this._usage=e,this)},n.prototype.name=function(){return this._name},n.prototype.largestOptionLength=function(){return this.options.reduce(function(e,t){return Math.max(e,t.flags.length)},0)},n.prototype.optionHelp=function(){var e=this.largestOptionLength();return[s("-h, --help",e)+"  output usage information"].concat(this.options.map(function(t){return s(t.flags,e)+"  "+t.description})).join("\n")},n.prototype.commandHelp=function(){if(!this.commands.length)return"";var e=this.commands.filter(function(e){return!e._noHelp}).map(function(e){var t=e._args.map(function(e){return u(e)}).join(" ");return[e._name+(e._alias?"|"+e._alias:"")+(e.options.length?" [options]":"")+" "+t,e.description()]}),t=e.reduce(function(e,t){return Math.max(e,t[0].length)},0);return["","  Commands:","",e.map(function(e){var r=e[1]?"  "+e[1]:"";return s(e[0],t)+r}).join("\n").replace(/^/gm,"    "),""].join("\n")},n.prototype.helpInformation=function(){var e=[];this._description&&(e=["  "+this._description,""]);var t=this._name;this._alias&&(t=t+"|"+this._alias);var r=["","  Usage: "+t+" "+this.usage(),""],i=[],n=this.commandHelp();n&&(i=[n]);var o=["  Options:","",""+this.optionHelp().replace(/^/gm,"    "),"",""];return r.concat(i).concat(e).concat(o).join("\n")},n.prototype.outputHelp=function(e){e||(e=function(e){return e}),process.stdout.write(e(this.helpInformation())),this.emit("--help")},n.prototype.help=function(e){this.outputHelp(e),process.exit()}},function(e,t,r){var i=r(2),n=i.lstatSync;t.readlinkSync=function(e){return n(e).isSymbolicLink()?i.readlinkSync(e):e}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("events")}]);